!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ide-lib-base-component"),require("react"),require("mobx-state-tree"),require("ette-router"),require("ide-lib-utils"),require("mobx-react-lite"),require("styled-components"),require("ette"),require("antd"),require("ss-tree"),require("react-dom"),require("ide-code-editor")):"function"==typeof define&&define.amd?define("pageCreatorIDEDemo",["ide-lib-base-component","react","mobx-state-tree","ette-router","ide-lib-utils","mobx-react-lite","styled-components","ette","antd","ss-tree","react-dom","ide-code-editor"],t):"object"==typeof exports?exports.pageCreatorIDEDemo=t(require("ide-lib-base-component"),require("react"),require("mobx-state-tree"),require("ette-router"),require("ide-lib-utils"),require("mobx-react-lite"),require("styled-components"),require("ette"),require("antd"),require("ss-tree"),require("react-dom"),require("ide-code-editor")):e.pageCreatorIDEDemo=t(e.ideBaseComponent,e.React,e.mobxStateTree,e.etteRouter,e.ideLibUtils,e.mobxReact,e.styled,e.Ette,e.antd,e.ssTree,e.ReactDOM,e.ideCodeEditor)}(window,function(e,t,n,r,o,i,a,u,s,c,l,d){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t,n){e.exports=n(21)()},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){var r,o,i,a,u,s,c,l,d,p;window,e.exports=(r=n(1),o=n(5),i=n(3),a=n(2),u=n(4),s=n(13),c=n(8),l=n(9),d=n(10),p=n(14),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=l},function(e,t,n){var r,o,i,a,u,s,c,l,d;window,e.exports=(r=n(2),o=n(1),i=n(0),a=n(11),u=n(4),s=n(3),c=n(6),l=n(5),d=n(10),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);function o(e){for(var t="",n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}t.generateUUIDv4=function(){var e=r.getRandomBytes(16);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,o(e.subarray(0,4))+"-"+o(e.subarray(4,6))+"-"+o(e.subarray(6,8))+"-"+o(e.subarray(8,10))+"-"+o(e.subarray(10,16))}},function(e,t){e.exports=d},function(e,t,n){"use strict";function r(e){for(var t=Math.pow(2,8*e.byteLength/e.length),n=0;n<e.length;n++)e[n]=Math.random()*t}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomValuesWithMathRandom=r,t.getRandomValues="undefined"!=typeof crypto?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):r,t.getRandomBytes=function(e){var n=new Uint8Array(e);return t.getRandomValues(n),n}},function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),i=n(7),a=n(6),u=n(3),s=n(1),c=n(2),l=n(0),d=n(8);function p(e,t){return parseFloat(t)-parseFloat(e)}var f,m=Object(s.createDebuggers)("ide-tree"),b=(m.debugBase,m.debugComp,m.debugError,m.debugIO),h=m.debugInteract,y=m.debugMini,g=m.debugModel,v=m.debugRender,S=["screenId","name","id","attrs","children"],O=l.types.model("SchemaModel",{id:l.types.string,screenId:l.types.optional(l.types.string,"_unset"),name:l.types.optional(l.types.string,""),attrs:l.types.optional(l.types.string,"{}"),parentId:l.types.optional(l.types.string,""),children:l.types.array(l.types.late(function(){return O}))}).views(function(e){return{get attrsJSON(){return JSON.parse(e.attrs)},get childrenIds(){return(e.children||[]).map(function(e){return e.id})},get schemaJSON(){return Object(u.map)(e,function(e){return Object.assign({},e.attrsJSON,{id:e.id,screenId:e.screenId,name:e.name})},!0)},get allNodes(){return z(e)},get isRoot(){return!!e.parentId}}}).actions(function(e){return{setParentId:function(t){Object(s.invariant)(!!t,"不能将 id 设置成空"),e.parentId=t},setChildren:function(t){t.forEach(function(t){t.setParentId(e.id)}),e.children=t||[]},setId:function(t){Object(s.invariant)(!!t,"将要更改的 id 为空"),e.id=t},setScreenId:function(t){Object(s.invariant)(!!t,"目标 screenId 不应该为空");var n=Object(u.traverse)(e,function(e){return e.screenId==t},u.TRAVERSE_TYPE.BFS,!0);Object(s.invariant)(!n,"修改不生效，因为目标 screenId 已存在"),e.screenId=t},setName:function(t){Object(s.invariant)(!!t,"不能将 name 更改为空值"),e.name=t},setAttrs:function(t){e.attrs=I(t)}}}).views(function(e){return{findNode:function(t,n){return g("[findNode] 开始查找节点 "+t+", filterArray: "+n),W(e,t,n)},indexOfChild:function(e){return e?(this.children||[]).map(function(e){return e.id}).indexOf(e):-1},allNodesWithFilter:function(t){void 0===t&&(t=S);var n=[].concat(t||[]);return e.allNodes.map(function(e){return Object(s.pick)(e,n)})},clone:function(){var t=Object(u.map)(e,function(e){var t=_(e.screenId),n=x(e.name),r=x(e.name,!0),o=JSON.stringify(e.attrsJSON).replace(t,n);return O.create({name:e.name,attrs:o,id:r,screenId:n})},!0,function(e,t){e.setChildren(t)});return g("[clone] 将节点 "+e.id+" 拷贝成新节点 "+t.id+", 生成的节点对象：%o",t),t}}}).actions(function(e){return{updateAttribute:function(t,n){return P(e,t,n)},updateAttributeById:function(t,n,r){if(!t)return!1;var o=e.findNode(t);return!!o&&P(o,n,r)},addChildren:function(t){[].concat(t).forEach(function(t){t.setParentId(e.id),e.children.push(t)})}}}).actions(function(e){return{removeNode:function(t){if(!t)return!1;var n=e.findNode(t);if(n){var r=n.toJSON();return Object(l.destroy)(n),r}return!1}}}).actions(function(e){return{cloneFromSubId:function(t){var n=e.findNode(t);return g("[cloneFromSubId] 拷贝生成的节点 id "+(n&&n.id)),{origin:n,target:n&&n.clone()}}}}).actions(function(e){return{addChild:function(t,n){var r=e.children.length;if(r){var o=Object(s.isExist)(n)?+n:r;t.setParentId(e.id),e.children.splice(o,0,t)}else e.addChildren(t)}}}).actions(function(e){return{removeChildren:function(t){var n=[].concat(t);g("[comp] 删除前 children 长度: "+e.children.length+", 待删除的 ids: "+n.join("、"));var r=[].concat(e.childrenIds),o=n.map(function(e){return r.indexOf(e)});o.sort(p),o.forEach(function(t){if(-1!==t){var n=e.children[t];Object(l.destroy)(n)}}),g("[comp] 删除后 children 长度: "+e.children.length+"，ids: "+e.children.map(function(e){return e.id}).join("、"))}}}).actions(function(e){return{addSibling:function(t,n,r){if(void 0===r&&(r=0),!Object(s.isExist)(t.parentId))return g("[addSibling] 节点 "+t.id+" 无父元素，无法进行新增兄弟节点的操作"),!1;var o=e.findNode(t.parentId);if(!o)return g("[addSibling] 当前节点 "+e.id+" 中无 "+t.parentId+" 节点，按理说不应出现这种异常状态，请检查树形结构合理性"),!1;var i=o.indexOfChild(t.id),a=parseInt(r)+i;return g("[addSibling] 计算插入位置："+i+" + "+r+"= "+a),o.addChild(n,+a),!0}}}),M=["schema","selectedId","expandedIds"],w=l.types.model("SchemaTreeModel",{schema:O,selectedId:l.types.optional(l.types.string,""),expandedIds:l.types.array(l.types.string)}).views(function(e){return{allAttibuteWithFilter:function(t){void 0===t&&(t=M);var n=[].concat(t||[]);return Object(s.pick)(e,n)}}}).actions(function(e){return{setSchema:function(t){e.schema=Object(l.cast)(t)},setExpandedIds:function(t){void 0===t&&(t=[]),e.expandedIds=t},setSelectedId:function(t){e.selectedId=t}}}).actions(function(e){return{updateAttribute:function(t,n){return R(e,t,n)}}}).actions(function(e){return{autoExpandIdIntoView:function(t){if(t){for(var n=t,r=[],o=e.expandedIds.slice();n;){var i=e.schema.findNode(n);n=i&&i.parentId,!~o.indexOf(n)&&n&&r.push(n)}h("[自动展开节点] expandedIds: "+o+", shouldExpand: "+r),e.setExpandedIds(o.concat(r))}},resetToEmptyTree:function(){var t=e.schema.toJSON();return e.setSchema(T()),t}}});!function(e){e.IDS="ids",e.CHILDREN="children",e.ID="id",e.NAME="name",e.PARENTID="parentId",e.SCREENID="screenId"}(f||(f={}));var k=Object.values(f);function x(e,t){var n;return void 0===e&&(e="unknown"),void 0===t&&(t=!1),"$"+(t?"uu_":"")+e+"_"+(void 0===n&&(n=5),Object(d.generateUUIDv4)().slice(0,n))}function C(e,t){if(!k.includes(e))return t}function I(e){return JSON.stringify(e,C)}function E(e){return void 0===e&&(e=ce.schema),e.children||(e.children=[]),Object(u.map)(e,function(e){var t=O.create({id:e.id||x(e.name,!0),screenId:e.screenId||x(e.name),name:e.name});return t.setAttrs(e),t},!0,function(e,t){e.setChildren(t)})}function T(){return E()}function B(e){void 0===e&&(e=ce);var t=Object.assign({},ce,e),n=t.schema,r=t.selectedId,o=t.expandedIds;return w.create({schema:n,selectedId:r,expandedIds:o})}function j(){return B()}function z(e,t){var n=[].concat(t||[]);return Object(u.traverse)(e,function(e,t){return void 0===t&&(t=[]),t.push(n.length?Object(s.pick)(e,n):e),t})}function W(e,t,n){if(!t)return null;var r=null,o=[].concat(n||[]);return Object(u.traverse)(e,function(e){return e.id===t&&(r=o.length?Object(s.pick)(e,o):e,!0)},u.TRAVERSE_TYPE.BFS,!0),r}var F,_=function(e){Object(s.invariant)(!!e,"[getIdRegex] 传入的 id 值不存在，请 check 数据格式");var t=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return y("[getIdRegex] id: "+e+" --esc--\x3e "+t+" 转换后的正则表达式 "+RegExp(t)),new RegExp(t)},P=Object(c.updateInScope)(["name","screenId","attrs"]),R=Object(c.updateInScope)(["schema","selectedId","expandedIds"]),A=Object(c.updateInScope)(["schemaTree"]),N=n(9),L=n.n(N),D=n(4),$=n.n(D);function q(e,t){return e&&e.trim().split(",")||t}!function(e){e.CLONED="CLONED"}(F||(F={}));var G=new Map;function V(e,t,n){void 0===n&&(n=!1);var r=G.get(e.id);if(r){var o=r.nodes.get(t);return n?o.clone():o}}var H=new $.a;H.get("getAllNodes","/nodes",function(e){var t=e.stores,n=e.request.query,r=q(n&&n.filter,S);e.response.body={nodes:t.model.schema.allNodesWithFilter(r)},e.response.status=200}),H.get("getNodeById","/nodes/:id",function(e){var t=e.stores,n=e.request.query,r=e.params.id,o=q(n&&n.filter,S);e.response.body={node:W(t.model.schema,r,o)},e.response.status=200}),H.get("getNodeParentById","/nodes/:id/parent",function(e){var t=e.stores,n=e.request.query,r=e.params.id,o=W(t.model.schema,r,["parentId"]),i=o&&o.parentId;b("[api - getNodeParentById] 找到 parentId: "+i);var a,u="";if(i){var s=q(n&&n.filter,S);a=W(t.model.schema,i,s),u="父节点 id 为 "+i}else u="当前节点无父节点";Object(c.buildNormalResponse)(e,200,a?{node:a}:{},u)}),H.get("getCloneNode","/buffers/clone",function(e){var t=e.stores,n=e.request.query,r=q(n&&n.filter,S),o=V(t,F.CLONED),i="";i=o?"获取成功. clone 节点 id: "+o.id:"当前缓存区中无 clone 类型节点，问题定位源 `getBufferNode`",Object(c.buildNormalResponse)(e,200,{node:o&&Object(s.pick)(o,r)},i)}),H.get("getSelection","/selection",function(e){var t=e.stores;Object(c.buildNormalResponse)(e,200,{id:t.model.selectedId})});var U=new $.a;U.post("createNewTree","/tree",function(e){var t=e.stores,n=e.request.data.schema;t.setModel({schema:n});var r=z(n,"id").map(function(e){return e.id});t.model.setExpandedIds(r),e.response.status=200,Object(c.buildNormalResponse)(e,200,{ids:r},"创建成功")}),U.post("addChildNode","/nodes/:id/children",function(e){var t,n,r=e.stores,o=e.request.data,i=o.schema,a=o.targetIndex,u=o.useBuffer,s=o.useClone,l=void 0===s||s,d=e.params.id;if(d){var p=u?V(r,F.CLONED,l):E(i),f=W(r.model.schema,d);u&&!p?t="添加失败，缓存区不存在 clone 类型节点":f?W(r.model.schema,p.id)?t="要插入的节点(id:"+p.id+")已存在":(f.addChild(p,a),n=p.schemaJSON):t="id 为 "+d+" 的节点不存在"}else t="传入节点 id 不能为空";Object(c.buildNormalResponse)(e,200,n?{node:n,useBuffer:u}:0,t)}),U.post("addSiblingNode","/nodes/:id/sibling",function(e){var t,n,r=e.stores,o=e.request.data,i=o.schema,a=o.offset,u=e.params.id;if(u){var s=E(i),l=W(r.model.schema,u);l?W(r.model.schema,s.id)?t="要插入的节点(id:"+s.id+")已存在":r.model.schema.addSibling(l,s,a)?n=s.schemaJSON:t="插入节点失败，请打开控制台查看 [addSibling] 部分的日志":t="id 为 "+u+" 的节点不存在"}else t="传入节点 id 不能为空";Object(c.buildNormalResponse)(e,200,n?{node:n}:null,t)}),U.post("cloneNodeIntoBuffer","/nodes/:id/clone",function(e){var t=e.stores,n=e.params.id,r=t.model.schema.cloneFromSubId(n),o=r.origin,i=r.target,a="";i?(a="拷贝成功，新节点 id: "+i.id,function(e,t,n){var r=G.get(e.id),o=r&&r.nodes||new Map;o.set(t,n),G.set(e.id,{stores:e,nodes:o})}(t,F.CLONED,i)):a="拷贝失败，问题定位源 `cloneFromSubId`",Object(c.buildNormalResponse)(e,200,{origin:o&&Object(s.pick)(o,S),target:i&&Object(s.pick)(i,S)},a)});var J=new $.a;J.put("updateRoot","/tree/root",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=t.model.schema.updateAttribute(r,o);e.response.body={success:i},e.response.status=200}),J.put("updateNodeById","/nodes/:id",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=e.params.id,a=t.model.schema.updateAttributeById(i,r,o);e.response.body={success:a},e.response.status=200}),J.put("updateSelection","/selection/:id",function(e){var t=e.stores,n=e.params.id;t.model.setSelectedId(n),t.model.autoExpandIdIntoView(n),e.response.status=200});var Y=new $.a;Y.del("delTree","/tree",function(e){var t=e.stores;e.response.body={node:t.resetToEmpty()},e.response.status=200}),Y.del("delNode","/nodes/:id",function(e){var t=e.stores,n=e.params.id,r=n===t.model.schema.id?t.resetToEmpty():t.model.schema.removeNode(n),o="节点 "+n+" 删除成功";Object(c.buildNormalResponse)(e,200,{node:r},o)});var X,K=function(e,t){var n=this;void 0===t&&(t={});var r=new L.a({domain:"ide-tree"});return r.innerApps=t,r.use(function(r,o){return function(e,t,n,r){return new(n||(n=Promise))(function(t,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,a)}u((r=r.apply(e,[])).next())})}(n,0,void 0,function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(i){switch(i.label){case 0:return r.stores=e,r.innerApps=t,n=r.request.url,b("["+e.id+"] request: "+JSON.stringify(r.request.toJSON())),[4,o()];case 1:return i.sent(),b("["+e.id+"] ["+r.request.method+"] "+n+" ==> response: "+JSON.stringify(r.response.toJSON())),[2]}})})}),r.use(H.routes()),r.use(U.routes()),r.use(J.routes()),r.use(Y.routes()),r},Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Q="sst_";X||(X={});var ee={},te=l.types.model("StoresModel",{id:l.types.refinement(l.types.identifier,function(e){return 0===e.indexOf(Q)}),model:w}).actions(function(e){return{setModel:function(t){e.model=Object(l.cast)(t)}}}).actions(function(e){return{updateAttribute:function(t,n){A(e,t,n)}}}).actions(function(e){return{resetToEmpty:function(){return e.model.resetToEmptyTree()}}}),ne=1;function re(){var e=Object(c.getSubAppsFromFactoryMap)(ee),t=e.subStores,n=e.subApps,r=e.subClients;return{stores:te.create(Z({id:""+Q+ne++,model:j()},t),{clients:r}),innerApps:n}}var oe=function(e){return function(t,n){e.stores.model.setExpandedIds(t)}},ie=function(e){return function(t){e.stores.model.setSelectedId(t.id)}},ae=function(){return(ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ue=i.Tree.TreeNode,se={name:"[init comp]",id:"-1",screenId:"-1"},ce={schema:se,selectedId:"",expandedIds:[]},le=function(e){var t=function(e){var t=e.schema,n=e.selectedId,a=e.expandedIds,s=void 0===a?[]:a,c=e.onExpand,l=e.onSelectNode,d=e.onRightClickNode,p=s.slice(),f=Object(r.useCallback)(function(e,n){var r=e&&e[0];if(r&&l){var o=W(t,r);l&&l(o)}},[l,t]),m=Object(r.useCallback)(function(e){var n=e.node,r=e.event,o=n.props.eventKey,i=r.clientX,a=r.clientY;if(o&&d){var u=W(t,o);d({event:{clientX:i,clientY:a},node:u})}},[t,d]);return o.a.createElement(i.Tree,{key:"SchemaTree",showLine:!0,defaultExpandAll:!0,autoExpandParent:!1,onExpand:c,expandedKeys:p,selectedKeys:[n],onSelect:f,onRightClick:m},function(e){for(var t={},n=0,r=Object(u.traverse)(e,function(e,r){void 0===r&&(r=[]);var i=e.name,a=e.id,u=e.parentId;return r.push({id:a,name:i,component:o.a.createElement(ue,{title:i,key:a}),parentId:u}),t[a]=n,n++,r}),i=n;i>0;i--){var a=r[i-1];if(a&&a.parentId){var s=r[t[a.parentId]],c=s.component,l=s.name,d=s.id,p=c.props.children,f=[a.component].concat(p||[]);s.component=o.a.createElement(ue,{title:l,key:d},f)}}return r[0].component}(t))};return t.displayName="SchemaTreeHOC",Object(a.observer)(Object(c.based)(Object(a.observer)(t),ce))},de=le(),pe=function(e){var t=e.stores,n=le(),r=function(r){var i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(r,[]),a=t.model,u=Object(s.pick)(a,M);v("["+t.id+"] rendering");var l=Object(c.useInjectedEvents)(e,i,{onExpand:[oe],onSelectNode:[ie]});return Object(c.addModelChangeListener)(a,M,l.onModelChange),o.a.createElement(n,ae({},u,l))};return r.displayName="SchemaTreeWithStore",Object(a.observer)(r)},fe=function(){var e=re(),t=e.stores,n=e.innerApps,r=K(t,n);return{stores:t,app:r,client:r.client,innerApps:n}},me=function(){var e=fe();return ae({},e,{SchemaTreeWithStore:pe(e)})};n.d(t,"EMPTY_SCHEMA_ID",function(){return"-1"}),n.d(t,"EMPTY_SCHEMA",function(){return se}),n.d(t,"FLAG_ROOT",function(){return"@root"}),n.d(t,"DEFAULT_PROPS",function(){return ce}),n.d(t,"SchemaTreeHOC",function(){return le}),n.d(t,"SchemaTree",function(){return de}),n.d(t,"SchemaTreeAddStore",function(){return pe}),n.d(t,"SchemaTreeStoresEnv",function(){return fe}),n.d(t,"SchemaTreeFactory",function(){return me}),n.d(t,"SCHEMA_CONTROLLED_KEYS",function(){return S}),n.d(t,"SchemaModel",function(){return O}),n.d(t,"CONTROLLED_KEYS",function(){return M}),n.d(t,"SchemaTreeModel",function(){return w}),n.d(t,"SPECIAL_ATTRIBUTE_NAME",function(){return f}),n.d(t,"SPECIAL_NAMES",function(){return k}),n.d(t,"genCompIdByName",function(){return x}),n.d(t,"stringifyAttribute",function(){return I}),n.d(t,"createSchemaModel",function(){return E}),n.d(t,"createEmptySchema",function(){return T}),n.d(t,"createSchemaTreeModel",function(){return B}),n.d(t,"createEmptySchemaTreeModel",function(){return j}),n.d(t,"getAllNodes",function(){return z}),n.d(t,"findById",function(){return W}),n.d(t,"getIdRegex",function(){return _}),n.d(t,"updateSchema",function(){return P}),n.d(t,"updateSchemaTree",function(){return R}),n.d(t,"updateStoresAttribute",function(){return A}),n.d(t,"STORE_ID_PREIX",function(){return Q}),n.d(t,"ESubApps",function(){return X}),n.d(t,"FACTORY_SUBAPP",function(){return ee}),n.d(t,"Stores",function(){return te}),n.d(t,"StoresFactory",function(){return re}),n.d(t,"AppFactory",function(){return K})}]))},function(e,t,n){var r,o,i,a,u,s,c;window,e.exports=(r=n(2),o=n(3),i=n(4),a=n(5),u=n(6),s=n(7),c=n(10),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(9)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(8))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,d=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&f())}function f(){if(!l){var e=u(p);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||l||u(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function a(...e){if(!a.enabled)return;const t=a,o=Number(new Date),i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let u=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;u++;const i=r.formatters[o];if("function"==typeof i){const r=e[u];n=i.call(t,r),e.splice(u,1),u--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(a),...r.skips.map(a).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(10),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=6e4,o=36e5,i=24*o;function a(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);return t>=i?a(e,t,i,"day"):t>=o?a(e,t,o,"hour"):t>=r?a(e,t,r,"minute"):t>=n?a(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(4),a=n(3),u=n(0),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=n(7),l=(c("context-menu"),function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o="";[].concat(t).forEach(function(e){o+="["+e+"]"}),n[0]=o+n[0],c("context-menu:"+e).apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(n))}}),d=(l("mini","普通"),l("error","错误"),l("model","模型")),p=(l("comp","组件"),l("render","渲染时"),l("act","交互行为")),f=l("io","数据请求"),m=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function b(e,t,n){if(!e)throw new Error("[ide-view] Invariant failed: "+t+(n?" in '"+n+"'":""))}function h(e){return null!=e}function y(e){return"true"===e||!0===e}function g(e,t){var n,r,o={};try{for(var i=m(t),a=i.next();!a.done;a=i.next()){var u=a.value;e[u]&&(o[u]=e[u])}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}function v(e){b(!!e,"menu 对象不能为空"),b(!!e.name,"menu 对象缺少 `name` 属性");var t=T.create({id:e.id,name:e.name,children:[]});return[].concat(e.children||[]).forEach(function(e){var n=e.id,r=e.name,o=e.icon,i=e.type,a=e.disabled,u=e.shortcut;t.addMenuItems(I.create({id:n,name:r,icon:o,type:i,disabled:a,shortcut:u}))}),t}var S="EMPTY_EMNU";function O(){return v({id:S,name:S})}var M,w=function(e){return function(t,n,r){return b(!!t,"入参 item 必须存在"),e.includes(n)?(t["set"+((o=n)?o.charAt(0).toUpperCase()+o.slice(1):"")](r),!0):(d("[更新属性] 属性名 "+n+" 不属于可更新范围，无法更新成 "+r+" 值；（附:可更新属性列表："+e+"）"),!1);var o}},k=w(["name","type","disabled","icon","shortcut"]),x=w(["visible","width","left","top"]);!function(e){e.NORMAL="normal",e.SEPARATOR="separator"}(M||(M={}));var C=Object.values(M),I=u.types.model("MenuItemModel",{id:u.types.optional(u.types.string,""),name:u.types.optional(u.types.string,""),type:u.types.optional(u.types.enumeration("Type",C),M.NORMAL),disabled:u.types.optional(u.types.boolean,!1),icon:u.types.optional(u.types.string,""),shortcut:u.types.optional(u.types.string,"")}).views(function(e){return{get isDivider(){return this.type===M.SEPARATOR}}}).actions(function(e){return{setId:function(t){e.id=t},setName:function(t){e.name=t},setType:function(t){e.type=t},setDisabled:function(t){e.disabled=y(t)},setIcon:function(t){e.icon=t},setShortcut:function(t){e.shortcut=t}}}),E=["id","name","children"],T=u.types.model("MenuModel",{id:u.types.optional(u.types.string,""),name:u.types.optional(u.types.string,""),children:u.types.array(u.types.late(function(){return I}))}).views(function(e){return{allItemsWithFilter:function(t){if(!t)return e.children;var n=[].concat(t||[]);return e.children.map(function(e){return g(e,n)})},findItem:function(t,n){if(!t)return null;var r=null,o=[].concat(n||[]);return e.children.some(function(e){return e.id===t&&(r=o.length?g(e,o):e,!0)}),r}}}).actions(function(e){return{setDisabledByIds:function(t,n){t&&t.length&&e.children.forEach(function(e){~t.indexOf(e.id)&&e.setDisabled(n)})},addMenuItems:function(t){[].concat(t).forEach(function(t){e.children.push(t)})},updateItemById:function(t,n,r){b(h(t),"菜单项 id 不能为空"),b(h(n),"[属性更新] 入参 attrName 不能为空"),d("[menu][更新属性] 将更新 id: "+t+" 的属性 "+n+" 值为 "+r);var o=e.findItem(t);return!!o&&k(o,n,r)}}}).actions(function(e){return{removeItem:function(t){if(!t)return!1;var n=e.findItem(t);if(n){var r=n.toJSON();return Object(u.destroy)(n),r}return!1}}}),B="scm_",j=["menu","visible","width","left","top"],z=u.types.model("StoresModel",{id:u.types.refinement(u.types.identifier,function(e){return 0===e.indexOf(B)}),menu:T,selectedKey:u.types.optional(u.types.string,""),visible:!1,width:u.types.optional(u.types.number,200),left:u.types.optional(u.types.number,0),top:u.types.optional(u.types.number,0)}).actions(function(e){return{setVisible:function(t){e.visible=y(t)},setSelectedKey:function(t){void 0===t&&(t=""),e.selectedKey=t},setWidth:function(t){e.width=+t},setLeft:function(t){e.left=+t},setTop:function(t){e.top=+t},setMenu:function(t){e.menu=Object(u.cast)(t)}}}).actions(function(e){return{setPostion:function(t){if(t){var n=t.x,r=t.y;h(n)&&e.setLeft(n),h(r)&&e.setTop(r)}},updateAttribute:function(t,n){return b(h(name),"[属性更新] 入参 attrName 不能为空"),x(e,t,n)}}}).actions(function(e){return{resetToEmpty:function(){var t=e.menu.toJSON();return e.setMenu(O()),e.setVisible(!1),e.setPostion({x:0,y:0}),t}}}),W=1;function F(){return z.create({id:""+B+W++,menu:O(),visible:!1,left:0,top:0})}var _=n(6),P=n.n(_),R=n(2),A=n.n(R),N=new A.a;N.get("getAllItems","/items",function(e){var t=e.stores,n=e.request.query,r=n&&n.filter&&n.filter.trim().split(",");e.response.body={items:t.menu.allItemsWithFilter(r)},e.response.status=200}),N.get("getItemById","/items/:id",function(e){var t=e.stores,n=e.request.query,r=e.params.id,o=n&&n.filter&&n.filter.trim().split(",");e.response.body={item:t.menu.findItem(r,o)},e.response.status=200}),N.get("getSelectedKey","/selection",function(e){var t=e.stores;e.request,e.response.body={selection:t.selectedKey},e.response.status=200});var L=new Map;document.addEventListener("click",function(e){var t,n,r=e.clientX,o=e.clientY;if(L.size)try{for(var i=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(L.values()),a=i.next();!a.done;a=i.next()){var u=a.value,s=u.stores,c=u.area,l=c.x,d=c.y,f=c.w,m=c.h;p("准备隐藏 id 为："+s.id+" 的右键菜单;");var b=!(r>l&&r<l+f&&o>d&&o<d+m);s.visible&&b&&(s.setVisible(!1),L.delete(s.id),p("已隐藏 id 为："+s.id+" 的右键菜单;"))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}});var D=new A.a;D.post("menu","/menu",function(e){var t=e.stores,n=e.request.data.menu;t.setMenu(n),e.response.status=200}),D.post("menu","/menu/bufferAreas",function(e){var t=e.stores,n=e.request.data.area;L.set(t.id,{stores:t,area:n}),e.response.status=200});var $=function(){return($=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},q=new A.a;q.put("items","/items",function(e){var t=e.stores;e.response.body={node:t.resetToEmpty()},e.response.status=200}),q.put("items","/items/:id",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=e.params.id,a=t.menu.updateItemById(i,r,o);e.response.body={success:a},e.response.status=200}),q.put("menu","/menu",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=t.updateAttribute(r,o);e.response.body={success:i},e.response.status=200}),q.put("menu","/menu/position",function(e){return function(e,t,n,r){return new(n||(n=Promise))(function(t,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,a)}u((r=r.apply(e,[])).next())})}(this,0,void 0,function(){var t,n,r,o,i,a,u,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(c){if(t=e.stores,n=e.request,r=n.query,o=n.data,i=o.x,a=o.y,r)switch(r.type){case"event":u=t.menu.children.length,s=function(e,t,n){void 0===n&&(n=10);var r=e.x,o=e.y,i=t.w,a=t.h,u=window.innerWidth,s=window.innerHeight,c=u-r>i,l=s-o>a,d={x:0,y:0};return d.x=c?r+n:r-i-n,d.y=l?o+a>s?s-a:o+n:o-a,p("事件位置（"+r+", "+o+"）\n当前屏幕尺寸（"+u+", "+s+"）\n 菜单尺寸（"+i+", "+a+"）\n计算方位 right: "+c+",bottom: "+l+" \n 计算结果坐标{x:"+d.x+" ,y:"+d.y+"}"),d}({x:i,y:a},{w:t.width,h:48*u}),t.setPostion(s),e.response.body={success:!0,area:$({},s,{w:t.width,h:48*u})},e.response.status=200}return[2]})})});var G=new A.a;G.del("menu","/menu",function(e){var t=e.stores;e.response.body={menu:t.resetToEmpty()},e.response.status=200}),G.del("items","/items/:id",function(e){var t=e.stores,n=e.params.id,r=t.menu.removeItem(n);e.response.body={item:r},e.response.status=200}),G.del("menu","/menu/bufferAreas",function(e){var t=e.stores;e.response.body={result:L.delete(t.id)},e.response.status=200});var V,H,U,J=function(e){var t=this,n=new P.a({domain:"context-menu"});return n.use(function(n,r){return function(e,t,n,r){return new(n||(n=Promise))(function(t,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,a)}u((r=r.apply(e,[])).next())})}(t,0,void 0,function(){var t;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(o){switch(o.label){case 0:return n.stores=e,t=n.request.url,f("["+e.id+"] request: "+JSON.stringify(n.request.toJSON())),[4,r()];case 1:return o.sent(),f("["+e.id+"] ["+n.request.method+"] "+t+" ==> response: "+JSON.stringify(n.response.toJSON())),[2]}})})}),n.use(N.routes()),n.use(D.routes()),n.use(q.routes()),n.use(G.routes()),n},Y=n(5),X=n.n(Y),K=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Z=a.Menu.Item,Q=X.a.div.attrs({style:function(e){return e.style||{}}})(V||(V=K(["\n  display: ",";\n  position: fixed;\n  left: ","px;\n  top: ","px;\n  background: white;\n  box-shadow: 0px 2px 10px #999999;\n  z-index: 9;\n"],["\n  display: ",";\n  position: fixed;\n  left: ","px;\n  top: ","px;\n  background: white;\n  box-shadow: 0px 2px 10px #999999;\n  z-index: 9;\n"])),function(e){return e.visible?"block":"none"},function(e){return e.left||0},function(e){return e.top||0}),ee=X()(a.Menu)(H||(H=K(["\n  width: ","px;\n"],["\n  width: ","px;\n"])),function(e){return e.width||200}),te=X()(Z)(U||(U=K(["\n  .menuWrap & {\n    display: flex;\n    min-width: 160px;\n    justify-content: space-between;\n  }\n"],["\n  .menuWrap & {\n    display: flex;\n    min-width: 160px;\n    justify-content: space-between;\n  }\n"]))),ne=function(){return(ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},re=Object(i.observer)(function(e){var t=e.menu,n=e.width,r=t.children,i=void 0===r?[]:r;return o.a.createElement(ee,{width:n,className:"menuWrap",onClick:function(t){var n=e.onClickItem,r=t.item,o=t.key,i=t.keyPath;p("[点击菜单]key: "+o+"; keyPath: "+i+"; item:",r),n&&n(o,i,r)},mode:"vertical"},i.slice().map(function(e,t){return e.isDivider||e.type===M.SEPARATOR?o.a.createElement(a.Menu.Divider,{key:e.id+t}):o.a.createElement(te,{className:"menuItem",disabled:e.disabled,key:e.id},o.a.createElement("div",{className:"content"},e.icon?o.a.createElement(a.Icon,{type:e.icon}):null,o.a.createElement("span",null,e.name)),e.shortcut?o.a.createElement("span",{className:"shortcut"},e.shortcut):null)}))});re.displayName="MenuSubject";var oe={menu:{id:"root",name:"empty menu"},visible:!1,left:0,top:0},ie=function(e){var t=function(e){void 0===e&&(e=oe);var t=Object.assign({},oe,e),n=t.menu,r=t.visible,i=t.width,a=t.left,u=t.top,s=t.onClickItem;return o.a.createElement(Q,{visible:r,left:a,top:u,className:"context-menu-container"},o.a.createElement(re,{width:i,menu:n,onClickItem:s}))};return t.displayName="ContextMenuHOC",Object(i.observer)(t)},ae=ie(),ue=function(e,t){return function(n,r,o){e.setSelectedKey(n),t&&t(n,r,o)}},se=function(e){var t=function(t){var n=t.onClickItem,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(t,["onClickItem"]),i=g(e,j);return o.a.createElement(ae,ne({},i,r,{onClickItem:ue(e,n)}))};return t.displayName="ContextMenuWithStore",Object(i.observer)(t)},ce=function(){var e=F(),t=J(e);return{stores:e,app:t,client:t.client,ContextMenuWithStore:se(e)}};n.d(t,"DEFAULT_PROPS",function(){return oe}),n.d(t,"ContextMenuHOC",function(){return ie}),n.d(t,"ContextMenu",function(){return ae}),n.d(t,"ContextMenuAddStore",function(){return se}),n.d(t,"ContextMenuFactory",function(){return ce}),n.d(t,"EMenuItemType",function(){return M}),n.d(t,"MENU_TYPES",function(){return C}),n.d(t,"MenuItemModel",function(){return I}),n.d(t,"CONTROLLED_KEYS",function(){return E}),n.d(t,"MenuModel",function(){return T}),n.d(t,"createMenuModel",function(){return v}),n.d(t,"createEmptyMenuModel",function(){return O}),n.d(t,"updateItem",function(){return k}),n.d(t,"updateMenuContainer",function(){return x}),n.d(t,"STORE_ID_PREIX",function(){return B}),n.d(t,"STORES_CONTROLLED_KEYS",function(){return j}),n.d(t,"Stores",function(){return z}),n.d(t,"StoresFactory",function(){return F}),n.d(t,"AppFactory",function(){return J})}]))},function(e,t){e.exports=d},function(e,t){e.exports=p},function(e,t,n){"use strict";let{useState:r,useEffect:o}=n(3);function i(){return{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}e.exports=function(){let[e,t]=r(i());function n(){t(i())}return o(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[]),e}},function(e,t,n){var r,o,i,a,u,s,c;window,e.exports=(r=n(2),o=n(3),i=n(7),a=n(4),u=n(5),s=n(6),c=n(10),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(9)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(8))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,d=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&f())}function f(){if(!l){var e=u(p);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||l||u(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function a(...e){if(!a.enabled)return;const t=a,o=Number(new Date),i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let u=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;u++;const i=r.formatters[o];if("function"==typeof i){const r=e[u];n=i.call(t,r),e.splice(u,1),u--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(a),...r.skips.map(a).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(10),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=6e4,o=36e5,i=24*o;function a(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);return t>=i?a(e,t,i,"day"):t>=o?a(e,t,o,"hour"):t>=r?a(e,t,r,"minute"):t>=n?a(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(5),a=n(4),u=n(2),s=n.n(u),c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=n(7),d=(l("component-list"),function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o="";[].concat(t).forEach(function(e){o+="["+e+"]"}),n[0]=o+n[0],l("component-list:"+e).apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}(n))}}),p=(d("mini","普通"),d("error","错误"),d("model","模型")),f=(d("comp","组件"),d("render","渲染时")),m=d("act","交互行为"),b=d("io","数据请求"),h=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function y(e,t){var n,r,o={};try{for(var i=h(t),a=i.next();!a.done;a=i.next()){var u=a.value;null!=e[u]&&(o[u]=e[u])}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}var g,v,S,O,M,w,k,x,C,I,E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},T=s.a.div.attrs({style:function(e){return e.style||{}}})(g||(g=E(["\n  display: ",";\n  width: 380px;\n  padding: 10px;\n\n  .list-select{\n    margin-right: 10px;\n  }\n\n  .list-input{\n    width: 175px\n  }\n"],["\n  display: ",";\n  width: 380px;\n  padding: 10px;\n\n  .list-select{\n    margin-right: 10px;\n  }\n\n  .list-input{\n    width: 175px\n  }\n"])),function(e){return e.visible?"block":"none"}),B=s.a.div.attrs({style:function(e){return e.style||{}}})(v||(v=E(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"]))),j=s()(a.Select).attrs({style:function(e){return e.style||{}}})(S||(S=E(["\n   width: 175px;\n"],["\n   width: 175px;\n"]))),z=s()(a.Input).attrs({style:function(e){return e.style||{}}})(O||(O=E(["\n   width: 175px;\n"],["\n   width: 175px;\n"]))),W=s.a.div.attrs({style:function(e){return e.style||{}}})(M||(M=E(["\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 10px;\n  &:last-child{\n    border-bottom: none;\n    margin-bottom: 0;\n  }\n\n  h3{\n    margin-bottom: 10px;\n    color: #666;\n  }\n"],["\n  border-bottom: 1px solid #e9e9e9;\n  margin-bottom: 10px;\n  &:last-child{\n    border-bottom: none;\n    margin-bottom: 0;\n  }\n\n  h3{\n    margin-bottom: 10px;\n    color: #666;\n  }\n"]))),F=s.a.a.attrs({style:function(e){return e.style||{}}})(w||(w=E(["\n    display: block;\n    color: rgba(0,0,0,.65);\n    background-color: #f5f7f7;\n    margin-bottom: 10px;\n    margin-right: 10px;\n    padding: 10px;\n"],["\n    display: block;\n    color: rgba(0,0,0,.65);\n    background-color: #f5f7f7;\n    margin-bottom: 10px;\n    margin-right: 10px;\n    padding: 10px;\n"]))),_=s.a.div.attrs({style:function(e){return e.style||{}}})(k||(k=E(["\n    margin-bottom: 6px;\n"],["\n    margin-bottom: 6px;\n"]))),P=s.a.div.attrs({style:function(e){return e.style||{}}})(x||(x=E(["\n  color: #666;\n  display: inline-block;\n  margin-right: 10px;\n"],["\n  color: #666;\n  display: inline-block;\n  margin-right: 10px;\n"]))),R=s.a.div.attrs({style:function(e){return e.style||{}}})(C||(C=E(["\n  color: #C8C5C6;\n"],["\n  color: #C8C5C6;\n"]))),A=s.a.img.attrs({style:function(e){return e.style||{}}})(I||(I=E(["\n  max-width: 150px;\n  align-self: center;\n  display: block;\n"],["\n  max-width: 150px;\n  align-self: center;\n  display: block;\n"]))),N=n(6),L=n.n(N),D=n(3),$=n.n(D),q=new $.a;q.get("model","/model",function(e){var t=e.stores,n=e.request.query,r=n&&n.filter&&n.filter.trim().split(",");e.response.body={attributes:t.model.allAttibuteWithFilter(r)},e.response.status=200}),q.get("clients","/innerApps/:name",function(e){return function(e,t,n,r){return new(n||(n=Promise))(function(t,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,a)}u((r=r.apply(e,[])).next())})}(this,0,void 0,function(){var t,n,r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(o){return t=e.innerApps,n=e.params.name,r={success:!1,message:"",client:""},n?t?t[n]?(r.message="获取成功",r.client=t[n]):r.message=" innerApps 中不存在名为 "+n+" 的实例":r.message="不存在 innerApps 对象":r.message="传入参数 name 不能为空",e.response.body=r,e.response.status=200,[2]})})});var G=n(0),V=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},H=G.types.model("StyleModel",{_style:G.types.map(G.types.union(G.types.number,G.types.string))}).views(function(e){return{get style(){return e._style.toJSON()}}}).actions(function(e){return{setStyle:function(t){Object(G.applySnapshot)(e,{_style:t})}}}),U=["visible","theme","styles"],J=G.types.model("ComponentListModel",{visible:G.types.optional(G.types.boolean,!0),_theme:G.types.map(G.types.union(G.types.number,G.types.string,G.types.boolean)),_styles:G.types.map(G.types.late(function(){return H}))}).views(function(e){return{get styles(){var t,n,r={};if(e._styles.size)try{for(var o=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(e._styles),i=o.next();!i.done;i=o.next()){var a=V(i.value,2),u=a[0],s=a[1];r[u]=s.style}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},get theme(){return e._theme.toJSON()},allAttibuteWithFilter:function(t){void 0===t&&(t=U);var n=[].concat(t||[]);return y(e,n)}}}).actions(function(e){return{setVisible:function(t){e.visible=!0===t||"true"===t},setTheme:function(t){e._theme=Object(G.cast)(t)},setStyle:function(t,n){var r=H.create({});r.setStyle(n),e._styles.set(t,r)}}}).actions(function(e){return{setStyles:function(t){Object.keys(t).forEach(function(n){e.setStyle(n,t[n])})},updateAttribute:function(t,n){return Z(e,t,n)},updateCssAttribute:function(t,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!0);var i={message:"",success:!0},a=e._styles.get(t);if(!a&&r)e.setStyle(t,n),i.message="目标样式不存在，新建 "+t+" 的样式";else if(a){var u=a.style;o?(a.setStyle(Object.assign({},u,n)),i.message="目标样式存在，覆盖 "+t+" 的样式"):(a.setStyle(n),i.message="目标样式存在，替换 "+t+" 的样式")}else i.message="不存在名为 "+t+" 的样式",i.success=!1;return i},updateTheme:function(t,n){var r={message:"",success:!1},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(V(arguments[t]));return e}(e._theme.keys());return t?e._theme.has(t)?(e._theme.set(t,n),r.success=!0):r.message="theme 对象中不存在 "+t+" 变量（支持的变量列表：["+o+"]）":r.message="请传入要更改的 theme 变量",r}}});function Y(e){void 0===e&&(e=de);var t=Object.assign({},de,e),n=t.visible,r=t.theme,o=t.styles,i=J.create({visible:n});return i.setStyles(o||{}),i.setTheme(r),i}function X(){return Y({})}var K,Z=(K=["visible","text","theme","styles"],function(e,t,n){return function(e,t,n){if(!e)throw new Error("[component-list] Invariant failed: 入参 item 必须存在")}(!!e),K.includes(t)?(e["set"+((r=t)?r.charAt(0).toUpperCase()+r.slice(1):"")](n),!0):(p("[更新属性] 属性名 "+t+" 不属于可更新范围，无法更新成 "+n+" 值；（附:可更新属性列表："+K+"）"),!1);var r}),Q=new $.a;Q.post("model","/model",function(e){var t=e.stores,n=e.request.data.model;t.setModel(Y(n)),e.response.status=200});var ee=new $.a;ee.put("model","/model",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=t.model.updateAttribute(r,o);e.response.body={success:i},e.response.status=200}),ee.put("model","/model/styles/:target",function(e){var t=e.stores,n=e.request.data.style,r=e.params.target,o={message:"",success:!1};r?function(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(n)?o=t.model.updateCssAttribute(r,n):o.message="传入 css 对象格式不正确: "+n:o.message="传入 css 目标不能为空",e.response.body=o,e.response.status=200}),ee.put("model","/model/theme/:target",function(e){var t=e.stores,n=e.request.data.value,r=e.params.target;e.response.body=t.model.updateTheme(r,n),e.response.status=200});var te=new $.a;te.del("model","/model",function(e){var t=e.stores;e.response.body={node:t.resetToEmpty()},e.response.status=200});var ne=function(e,t){var n=this;void 0===t&&(t={});var r=new L.a({domain:"component-list"});return r.use(function(r,o){return function(e,t,n,r){return new(n||(n=Promise))(function(t,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,a)}u((r=r.apply(e,[])).next())})}(n,0,void 0,function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(i){switch(i.label){case 0:return r.stores=e,r.innerApps=t,n=r.request.url,b("["+e.id+"] request: "+JSON.stringify(r.request.toJSON())),[4,o()];case 1:return i.sent(),b("["+e.id+"] ["+r.request.method+"] "+n+" ==> response: "+JSON.stringify(r.response.toJSON())),[2]}})})}),r.use(q.routes()),r.use(Q.routes()),r.use(ee.routes()),r.use(te.routes()),r},re="scl_",oe=["model"],ie=G.types.model("StoresModel",{id:G.types.refinement(G.types.identifier,function(e){return 0===e.indexOf(re)}),model:J}).actions(function(e){return{setModel:function(t){e.model=Object(G.cast)(t)},resetToEmpty:function(){e.model=X()}}}),ae=1;function ue(){return{stores:ie.create({id:""+re+ae++,model:X()}),innerApps:{}}}var se=function(){return(se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ce=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},le=a.Select.Option,de={visible:!0,theme:{main:"#25ab68"},list:{},styles:{container:{},input:{width:175}}},pe=function(e){var t=function(e){void 0===e&&(e=de);var t=Object.assign({},de,e),n=t.visible,i=t.list,s=t.styles,c=t.theme,l=function(t){return function(n){var r=e.onSelectItem;r&&r(t)}},d=ce(Object(r.useState)(""),2),p=d[0],f=d[1],b=ce(Object(r.useState)(""),2),h=b[0],y=b[1],g=function(t,n){if(e.list){var r={};if(t?r[t]=e.list[t]:r=e.list,m("[类别筛选] 通过 select 筛选后：%o",r),n){var o=Object.keys(r),i={result:{title:"搜索结果",list:[]}};return o.map(function(e){r[e].list.map(function(e){(new RegExp(n).test(e.desc)||new RegExp(n).test(e.name.toLowerCase()))&&i.result.list.push(e)})}),m("[筛选] 通过 input 筛选后：%o",i),i}return r}}(p,h),v=Object.keys(g||{}),S=Object.keys(i||{});return o.a.createElement(u.ThemeProvider,{theme:c},o.a.createElement(T,{style:s.container,visible:n,className:"ide-component-list-container"},o.a.createElement(B,{style:s.filterWrap},o.a.createElement(j,{style:s.select,className:"list-select",defaultValue:"",onChange:function(e){f(e)}},o.a.createElement(le,{value:""},"全部"),S.map(function(e){var t=i[e];return o.a.createElement(le,{key:e,value:e},t.title)})),o.a.createElement(z,{className:"list-input",style:s.input,placeholder:"搜索",onChange:function(e){y(e.target.value)}})),!e.list&&o.a.createElement(a.Alert,{message:"请给组件传入 list 列表",type:"error"})||null,v.map(function(e){var t=g[e],n=t.list,r=t.title;return o.a.createElement(W,{style:s.groupWrap,key:r,className:"group-wrap"},o.a.createElement("h3",null,r),o.a.createElement(a.Row,null,n.map(function(e){return o.a.createElement(a.Col,{key:e.name,span:12},o.a.createElement(F,{style:s.itemWrap,href:"javascript:void(0)",className:"item-wrap",onClick:l(e)},o.a.createElement(_,{style:s.itemInfo,className:"item-info"},o.a.createElement(P,{style:s.itemDesc,className:"item-desc"},e.desc),o.a.createElement(R,{style:s.itemName,className:"item-name"},e.name)),o.a.createElement(A,{style:s.itemImage,src:e.image,className:"item-image"})))})))})))};return t.displayName="ComponentListHOC",Object(i.observer)(t)},fe=pe(),me=function(e){var t=pe(),n=function(n){var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(n,[]),i=y(e.model,U);return f("["+e.id+"] rendering."),p("["+e.id+"] controlledProps: %o",i),o.a.createElement(t,se({},i,r))};return n.displayName="ComponentListWithStore",Object(i.observer)(n)},be=function(){var e=ue(),t=e.stores,n=e.innerApps,r=ne(t,n);return{stores:t,app:r,client:r.client,ComponentListWithStore:me(t)}};n.d(t,"DEFAULT_PROPS",function(){return de}),n.d(t,"ComponentListHOC",function(){return pe}),n.d(t,"ComponentList",function(){return fe}),n.d(t,"ComponentListAddStore",function(){return me}),n.d(t,"ComponentListFactory",function(){return be}),n.d(t,"CONTROLLED_KEYS",function(){return U}),n.d(t,"ComponentListModel",function(){return J}),n.d(t,"createModel",function(){return Y}),n.d(t,"createEmptyModel",function(){return X}),n.d(t,"updateModelAttribute",function(){return Z}),n.d(t,"STORE_ID_PREIX",function(){return re}),n.d(t,"STORES_CONTROLLED_KEYS",function(){return oe}),n.d(t,"Stores",function(){return ie}),n.d(t,"StoresFactory",function(){return ue}),n.d(t,"AppFactory",function(){return ne})}]))},function(e,t,n){"use strict";n.r(t);var r,o,i,a=n(3),u=n.n(a),s=n(6),c=n(12),l=n.n(c),d=n(1),p=n(0),f=n(8),m=n(9),b=n(7),h=n.n(b),y=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=h.a.div.attrs({style:function(e){return e.style||{}}})(r||(r=y(["\n"],["\n"]))),v=h.a.div.attrs({style:function(e){return e.style||{}}})(o||(o=y(["\n  position: fixed;\n  top: 10px;\n  left: 200px;\n  z-index: 99;\n  display: ",";\n  height: ",";\n  overflow-y: ",";\n  box-shadow: 0 2px 8px rgba(0,0,0,.2);\n  background-color: #fff;\n  border-radius: 4px;\n  background-clip: padding-box;\n"],["\n  position: fixed;\n  top: 10px;\n  left: 200px;\n  z-index: 99;\n  display: ",";\n  height: ",";\n  overflow-y: ",";\n  box-shadow: 0 2px 8px rgba(0,0,0,.2);\n  background-color: #fff;\n  border-radius: 4px;\n  background-clip: padding-box;\n"])),function(e){return e.visible?"inline-block":"none"},function(e){return e.height?e.height-20+"px":"auto"},function(e){return e.height?"scroll":"visible"}),S=h.a.div.attrs({style:function(e){return e.style||{}}})(i||(i=y(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 98;\n  display: ",";\n  height: ",";\n  width: ",";\n  background-color: ",";\n"],["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 98;\n  display: ",";\n  height: ",";\n  width: ",";\n  background-color: ",";\n"])),function(e){return e.visible?"block":"none"},function(e){return e.height?e.height+"px":"auto"},function(e){return e.width?e.width+"px":"auto"},function(e){return e.color?""+e.color:"auto"}),O=n(13),M=Object(d.createDebuggers)("component-tree"),w=(M.debugBase,M.debugComp,M.debugError,M.debugIO),k=(M.debugInteract,M.debugMini),x=(M.debugModel,M.debugRender),C=n(2),I=n(11);function E(e){return Object(I.map)(e,function(e){var t=Object.assign({},e);return t.name=e.name||e.component,t.screenId=e.screenId||e.id,t},!0)}var T,B=function(e){var t=Object.assign({},e);return t.name=e.name||e.component,t.screenId=e.screenId||e.id,t};function j(e,t,n){void 0===t&&(t=T.GOURD_V2),void 0===n&&(n=B);var r={};switch(t){case T.GOURD_V1:r=e;break;case T.GOURD_V2:r={name:"div",screenId:"$root",id:"$root_div",children:e};break;default:Object(d.invariant)(!1,"[schemaConverter] 无法转换 schema 对象，请联系管理员")}return Object(I.map)(r,n,!0)}function z(e){void 0===e&&(e=Se);var t=Object.assign({},Se,e),n=t.listVisible,r=t.theme,o=t.styles,i=N.create({listVisible:n});return i.setStyles(o||{}),i.setTheme(r),i}function W(){return z({})}!function(e){e.GOURD_V1="GOURD_V1",e.GOURD_V2="GOURD_V2"}(T||(T={}));var F,_=p.BASE_CONTROLLED_KEYS.concat(["listVisible"]),P=Object(p.updateInScope)(_),R=Object(p.stringLiterals)("listVisible"),A=p.BASE_CONTROLLED_KEYS.concat(R),N=p.BaseModel.named("ComponentTreeModel").props({listVisible:C.types.optional(C.types.boolean,!1)}).views(function(e){return{allAttibuteWithFilter:function(t){void 0===t&&(t=A);var n=[].concat(t||[]);return Object(d.pick)(e,n)}}}).actions(function(e){return{setListVisible:function(t){e.listVisible=!0===t||"true"===t}}}).actions(function(e){return{updateAttribute:function(t,n){return P(e,t,n)}}}),L=(C.types.model("FuncModel",{name:C.types.optional(C.types.string,""),body:C.types.optional(C.types.string,"")}).views(function(e){return{get definition(){return"window['"+e.name+"'] = "+e.body}}}),function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),D="sct_";!function(e){e.schemaTree="schemaTree",e.contextMenu="contextMenu"}(F||(F={}));var $=Object.values(F),q={schemaTree:f.Stores,contextMenu:m.Stores},G={schemaTree:f.SchemaTreeFactory,contextMenu:m.ContextMenuFactory},V=C.types.model("StoresModel",L({id:C.types.refinement(C.types.identifier,function(e){return 0===e.indexOf(D)}),model:N},q)).actions(function(e){var t=Object(p.getSubStoresAssigner)(e,$);return L({setModel:function(t){e.model=Object(C.cast)(t)}},t,{resetToEmpty:function(){e.model=W()}})}),H=1;function U(){var e=Object(p.getSubAppsFromFactoryMap)(G),t=e.subStores,n=e.subApps,r=e.subClients;return{stores:V.create(L({id:""+D+H++,model:W()},t),{clients:r}),innerApps:n}}var J=n(10),Y=n.n(J),X=n(4),K=n.n(X),Z=new K.a;Z.get("clients","/innerApps/:name",p.getInnerAppsMiddleware);var Q=new K.a,ee=new K.a;ee.put("model","/model",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=t.model.updateAttribute(r,o);e.response.body={success:i},e.response.status=200}),ee.put("menu","/menu/autoposition",function(e){return function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,n,r,o,i,a;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(u){switch(u.label){case 0:return t=e.request,n=t.data,r=n.x,o=n.y,[4,(i=Object(p.getClientFromCtx)(e,F.contextMenu)).put("/menu/position?type=event",{x:r,y:o})];case 1:return a=u.sent().body,i.put("/menu",{name:"visible",value:!0}),a.area&&i.post("/menu/bufferAreas",{area:a.area}),e.response.body=a,e.response.status=200,[2]}})})}),ee.put("model","/model/styles/:target",Object(p.updateStylesMiddleware)("model")),ee.put("model","/model/theme/:target",Object(p.updateThemeMiddleware)("model"));var te=new K.a,ne=function(e,t){var n=this;void 0===t&&(t={});var r=new Y.a({domain:"component-tree"});return r.innerApps=t,r.use(function(r,o){return function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}(n,void 0,void 0,function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(i){switch(i.label){case 0:return r.stores=e,r.innerApps=t,n=r.request.url,w("["+e.id+"] request: "+JSON.stringify(r.request.toJSON())),[4,o()];case 1:return i.sent(),w("["+e.id+"] ["+r.request.method+"] "+n+" ==> response: "+JSON.stringify(r.response.toJSON())),[2]}})})}),Object(p.applyProxy)(r,[{name:F.schemaTree,targets:["tree","nodes","selection","buffers"]},{name:F.contextMenu,targets:["menu","items"]}]),r.use(Z.routes()),r.use(Q.routes()),r.use(ee.routes()),r.use(te.routes()),r};Object(d.invariant)(!!GOURD_WIDGET.list,"不存在变量名为 GOURD_WIDGET 的公共组件列表");var re=GOURD_WIDGET.list,oe=GOURD_WIDGET.schema,ie=function(e){var t=[],n={};for(var r in e)t=t.concat(re[r].list);return t.forEach(function(e){var t=e.name;n[t]=e,n[t].defaults={},n[t].children&&n[t].children.length&&(n[t].children=n[t].children.map(function(e){return e.name=e.component,e})),setTimeout(function(){if(oe[t]){var e=oe[t];if(e.properties)for(var r in e.properties){var o=e.properties[r];if(o.properties)for(var i in o.properties){var a=o.properties[i];a.default&&(n[t].defaults[i]=a.default)}}}},0)}),n}(re);function ae(e){Object(d.invariant)(!!e,"[getSchemaByName] 目标 schema 的 name 不能为空");var t={name:e},n=ie[e];return n&&(n.props||n.defaults)&&(t.props=Object.assign({},n.props,n.defaults)),k("[getSchemaByName] 根据 name 生成的 schema 对象: %o",t),t}var ue=n(5),se=Object(p.getSubRouterPrefix)(F),ce=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},le=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},de=["createSub","createUp","createDown"],pe=function(e){return function(t,n,r){return ce(void 0,void 0,void 0,function(){var n;return le(this,function(r){return n=e.stores,e.client,~de.indexOf(t)&&n.model.setListVisible(!0),[2]})})}},fe=function(e){return function(t,n,r){return ce(void 0,void 0,void 0,function(){var n,r,o,i,a,u,s,c,l;return le(this,function(f){switch(f.label){case 0:return[4,(n=e.client).get(se.schemaTree+"/selection")];case 1:if(r=f.sent(),o=Object(d.getValueByPath)(r,"body.data.id"),Object(p.hasEtteException)(r,["schemaTree","get","selection"]))return[2];switch(t){case"copy":return[3,2];case"paste":return[3,6];case"delete":return[3,8]}return[3,11];case 2:return o?[4,n.post(se.schemaTree+"/nodes/"+o+"/clone")]:[3,4];case 3:return i=f.sent(),Object(d.getValueByPath)(i,"body.data.target")&&ue.message.info("已拷贝节点 "+o),[3,5];case 4:ue.message.error("拷贝失败，无法获取选中节点 id"),f.label=5;case 5:return[3,12];case 6:return[4,n.post(se.schemaTree+"/nodes/"+o+"/children",{useBuffer:!0})];case 7:return a=f.sent(),Object(p.hasEtteException)(a,["schemaTree","paste","buffer"])||((c=Object(d.getValueByPath)(a,"body.data.node"))?n.put(se.schemaTree+"/selection/"+c.id):ue.message.info("粘贴失败: 请先 copy 节点才能进行粘贴操作")),[3,12];case 8:return[4,n.get(se.schemaTree+"/nodes/"+o+"/parent?filter=id")];case 9:return u=f.sent(),[4,n.del(se.schemaTree+"/nodes/"+o)];case 10:return s=f.sent(),Object(p.hasEtteException)(s,["schemaTree","del"])||((c=Object(d.getValueByPath)(s,"body.data.node"))?(l=Object(d.getValueByPath)(u,"body.data.node.id"),n.put(se.schemaTree+"/selection/"+l)):ue.message.info("删除失败: 当前节点不存在")),[3,12];case 11:return[3,12];case 12:return[2]}})})}},me=function(e){return function(t,n,r){return ce(void 0,void 0,void 0,function(){return le(this,function(t){return e.client.put("/clients/contextMenu/menu",{name:"visible",value:!1}),[2]})})}},be=["createSub","createUp","createDown","delete"],he=function(e){return function(t){var n=e.client,r=t.node,o=t.event,i=!r.parentId;n.put(se.schemaTree+"/selection/"+r.id),n.get(se.schemaTree+"/buffers/clone").then(function(e){if(!Object(p.hasEtteException)(e,["schemaTree","buffer","clone"])){var t=Object(d.getValueByPath)(e,"body.data.node");n.put(se.contextMenu+"/items/paste",{name:"disabled",value:!t})}}),be.forEach(function(e){n.put(se.contextMenu+"/items/"+e,{name:"disabled",value:i})}),n.put("/menu/autoposition",{x:o.clientX,y:o.clientY})}},ye=function(e){return function(t){var n=e.stores,r=e.client,o=n[F.schemaTree],i=n[F.contextMenu].selectedKey;console.log("当前选中的组件：",t,i),r.put("/model",{name:"listVisible",value:!1});var a=ae(t.name),u=o.model.selectedId,s="createSub"===i?"children":"sibling",c=se.schemaTree+"/nodes/"+u+"/"+s,l="children"===s?{schema:a}:{schema:a,offset:"createUp"===i?"0":"1"};u?r.post(c,l).then(function(e){var n=Object(d.getValueByPath)(e,"body.data.node.id");(t.children||[]).forEach(function(e){r.post(se.schemaTree+"/nodes/"+n+"/children",{schema:ae(e.name)})})}):ue.message.info("因没有选中任何节点，添加失败")}},ge=function(e){return function(t){return function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}(void 0,void 0,void 0,function(){var t;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(n){return t=e.stores,e.client,t.model.setListVisible(!1),[2]})})}},ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Se={theme:{main:"#25ab68"},listVisible:!1,styles:{container:{}}},Oe=function(e){var t=function(t){var n=e.SchemaTreeComponent,r=e.ContextMenuComponent,o=Object.assign({},Se,t),i=o.schemaTree,s=o.contextMenu,c=o.styles,d=o.listVisible,p=o.onClickListOutside,f=o.onSelectListItem,m=u.a.useRef(null),b=l()(),h=Object(a.useCallback)(function(e){f&&f(e)},[f]),y=Object(a.useCallback)(function(e){return function(t){if(m){var n=e.current,r=n.offsetWidth,o=n.offsetHeight,i=t.clientX,a=t.clientY;null!==n&&!(i>200&&i<200+r&&a>10&&a<10+o)&&p&&p(t)}}},[p]);return u.a.createElement(g,{style:c.container,className:"ide-component-tree-container"},u.a.createElement(n,ve({},i)),u.a.createElement(r,ve({},s)),u.a.createElement(S,{className:"modal-layer",visible:d,height:b.innerHeight,width:b.innerWidth,onClick:y(m)}),u.a.createElement(v,{className:"component-list-wrap",ref:m,visible:d,height:b.innerHeight},u.a.createElement(O.ComponentList,{list:re,onSelectItem:h})))};return t.displayName="ComponentTreeHOC",Object(s.observer)(Object(p.based)(Object(s.observer)(t),Se))},Me=Oe({SchemaTreeComponent:f.SchemaTree,ContextMenuComponent:m.ContextMenu}),we=function(e){var t=e.stores,n=Oe({SchemaTreeComponent:Object(f.SchemaTreeAddStore)(Object(p.extracSubEnv)(e,"schemaTree")),ContextMenuComponent:Object(m.ContextMenuAddStore)(t.contextMenu)}),r=function(r){var o=r.schemaTree,i=void 0===o?{}:o,a=r.contextMenu,s=void 0===a?{}:a,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(r,["schemaTree","contextMenu"]),l=t.model,f=Object(d.pick)(l,A);x("["+t.id+"] rendering");var m=Object(p.useInjectedEvents)(e,s,{onClickItem:[pe,fe,me]}),b=Object(p.useInjectedEvents)(e,i,{onRightClickNode:[he]}),h=Object(p.useInjectedEvents)(e,c,{onSelectListItem:[ye],onClickListOutside:[ge]});return Object(p.addModelChangeListener)(l,A,h.onModelChange),u.a.createElement(n,ve({schemaTree:b,contextMenu:m},f,h))};return r.displayName="ComponentTreeWithStore",Object(s.observer)(r)},ke=function(){var e=U(),t=e.stores,n=e.innerApps,r=ne(t,n);return{stores:t,app:r,client:r.client,innerApps:n}},xe=function(){var e=ke();return ve({},e,{ComponentTreeWithStore:we(e)})};n.d(t,"DEFAULT_PROPS",function(){return Se}),n.d(t,"ComponentTreeHOC",function(){return Oe}),n.d(t,"ComponentTree",function(){return Me}),n.d(t,"ComponentTreeAddStore",function(){return we}),n.d(t,"ComponentTreeStoresEnv",function(){return ke}),n.d(t,"ComponentTreeFactory",function(){return xe}),n.d(t,"CONTROLLED_KEYS",function(){return A}),n.d(t,"ComponentTreeModel",function(){return N}),n.d(t,"jsonConverter",function(){return E}),n.d(t,"DEFAULT_CONVERTER",function(){return B}),n.d(t,"ESchemaOrigin",function(){return T}),n.d(t,"schemaConverter",function(){return j}),n.d(t,"createModel",function(){return z}),n.d(t,"createEmptyModel",function(){return W}),n.d(t,"updateModelAttribute",function(){return P}),n.d(t,"STORE_ID_PREIX",function(){return D}),n.d(t,"ESubApps",function(){return F}),n.d(t,"NAMES_SUBAPP",function(){return $}),n.d(t,"STORES_SUBAPP",function(){return q}),n.d(t,"FACTORY_SUBAPP",function(){return G}),n.d(t,"Stores",function(){return V}),n.d(t,"StoresFactory",function(){return U}),n.d(t,"COMP_LIST",function(){return re}),n.d(t,"SCHEMA_LIST",function(){return oe}),n.d(t,"COMP_LIST_MAP",function(){return ie}),n.d(t,"getSchemaByName",function(){return ae}),n.d(t,"AppFactory",function(){return ne})}]))},function(e,t,n){var r=n(23),o=n(0);e.exports=function(e,t,n){var o=e[t];if(o){var i=[];if(Object.keys(o).forEach(function(e){-1===r.indexOf(e)&&i.push(e)}),i.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+i.join(", "))}},e.exports.isRequired=function(t,n,r){if(!t[n])throw new Error("Prop "+n+" passed to "+r+" is required");return e.exports(t,n,r)},e.exports.supportingArrays=o.oneOfType([o.arrayOf(e.exports),e.exports])},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t,n){var r,o,i,a,u,s,c,l,d;window,e.exports=(r=n(3),o=n(2),i=n(1),a=n(13),u=n(4),s=n(5),c=n(8),l=n(9),d=n(10),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=l},function(e,t){e.exports=d},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(6),a=n(3),u=n(5),s=n(2),c=Object(u.createDebuggers)("header-bar"),l=(c.debugBase,c.debugComp,c.debugError,c.debugIO),d=c.debugInteract,p=(c.debugMini,c.debugModel,c.debugRender),f=n(7),m=n.n(f);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return Math.round(255*e)}function y(e,t,n){return h(e)+","+h(t)+","+h(n)}function g(e,t,n,r){if(void 0===r&&(r=y),0===t)return r(n,n,n);var o=e%360/60,i=(1-Math.abs(2*n-1))*t,a=i*(1-Math.abs(o%2-1)),u=0,s=0,c=0;o>=0&&o<1?(u=i,s=a):o>=1&&o<2?(u=a,s=i):o>=2&&o<3?(s=i,c=a):o>=3&&o<4?(s=a,c=i):o>=4&&o<5?(u=a,c=i):o>=5&&o<6&&(u=i,c=a);var l=n-i/2;return r(u+l,s+l,c+l)}var v={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=/^#[a-fA-F0-9]{6}$/,O=/^#[a-fA-F0-9]{8}$/,M=/^#[a-fA-F0-9]{3}$/,w=/^#[a-fA-F0-9]{4}$/,k=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,x=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/,C=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/,I=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/;function E(e){if("string"!=typeof e)throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.");var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return v[t]?"#"+v[t]:e}(e);if(t.match(S))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(O)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(M))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(w)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=k.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=x.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])};var a=C.exec(t);if(a){var u="rgb("+g(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",s=k.exec(u);if(!s)throw new Error("Couldn't generate valid rgb string from "+t+", it returned "+u+".");return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10)}}var c=I.exec(t);if(c){var l="rgb("+g(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=k.exec(l);if(!d)throw new Error("Couldn't generate valid rgb string from "+t+", it returned "+l+".");return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])}}throw new Error("Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.")}var T=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function B(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function j(e){return B(Math.round(255*e))}function z(e,t,n){return T("#"+j(e)+j(t)+j(n))}function W(e,t,n){return g(e,t,n,z)}function F(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return T("#"+B(e)+B(t)+B(n));if("object"==typeof e&&void 0===t&&void 0===n)return T("#"+B(e.red)+B(e.green)+B(e.blue));throw new Error("Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).")}var _=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},P=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},R=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},A=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha},N="Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.";function L(e){if("object"!=typeof e)throw new Error(N);if(P(e))return function(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var o=E(e);return"rgba("+o.red+","+o.green+","+o.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?F(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?F(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Error("Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).")}(e);if(_(e))return F(e);if(A(e))return function(e,t,n,r){if("object"==typeof e)return e.alpha>=1?W(e.hue,e.saturation,e.lightness):"rgba("+g(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new Error("Passed invalid arguments to hsla, please pass multiple numbers e.g. hsl(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).")}(e);if(R(e))return function(e,t,n){if("object"==typeof e)return W(e.hue,e.saturation,e.lightness);throw new Error("Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).")}(e);throw new Error(N)}function D(e,t,n){return Math.max(e,Math.min(t,n))}var $,q,G,V,H=function(e){return function e(t,n,r){return function(){var o=r.concat(Array.prototype.slice.call(arguments));return o.length>=n?t.apply(this,o):e(t,n,o)}}(e,e.length,[])}(function(e,t){var n=function(e){return function(e){var t,n=e.red/255,r=e.green/255,o=e.blue/255,i=Math.max(n,r,o),a=Math.min(n,r,o),u=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:u,alpha:e.alpha}:{hue:0,saturation:0,lightness:u};var s=i-a,c=u>.5?s/(2-i-a):s/(i+a);switch(i){case n:t=(r-o)/s+(r<o?6:0);break;case r:t=(o-n)/s+2;break;default:t=(n-r)/s+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:u,alpha:e.alpha}:{hue:t,saturation:c,lightness:u}}(E(e))}(t);return L(b({},n,{saturation:D(0,1,n.saturation-parseFloat(e))}))}),U=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},J=m.a.div.attrs({style:function(e){return e.style||{}}})($||($=U(["\n  width: 100%;\n  background: white;\n  height: ",";\n  border-bottom: 2px solid ",";\n"],["\n  width: 100%;\n  background: white;\n  height: ",";\n  border-bottom: 2px solid ",";\n"])),function(e){return e.height||"65px"},function(e){return e.theme.main}),Y=m.a.img.attrs({style:function(e){return e.style||{}}})(q||(q=U(["\n  max-width: 210px;\n  max-height: 64px;\n"],["\n  max-width: 210px;\n  max-height: 64px;\n"]))),X=m.a.div.attrs({style:function(e){return e.style||{}}})(G||(G=U(["\n  margin-top: 5px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n  .oper-icon {\n    font-size: 24px;\n    margin-bottom: 4px;\n  }\n  .oper-name {\n    font-size: 12px;\n  }\n"],["\n  margin-top: 5px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n  .oper-icon {\n    font-size: 24px;\n    margin-bottom: 4px;\n  }\n  .oper-name {\n    font-size: 12px;\n  }\n"])),function(e){return e.active?e.theme.main:e.theme.second},function(e){return e.theme.main}),K=m()(a.Button).attrs({style:function(e){return e.style||{}}})(V||(V=U(["\n  margin: 0 5px;\n  &.ant-btn-primary,\n  &.ant-btn-primary:focus {\n    background-color: ",";\n    border-color: ",";\n    &:hover {\n      background-color: ",";\n    }\n  }\n"],["\n  margin: 0 5px;\n  &.ant-btn-primary,\n  &.ant-btn-primary:focus {\n    background-color: ",";\n    border-color: ",";\n    &:hover {\n      background-color: ",";\n    }\n  }\n"])),function(e){return e.theme.main},function(e){return e.theme.main},function(e){return e.theme.main?H(.2,e.theme.main):"inherit"}),Z=n(8),Q=n.n(Z),ee=n(4),te=n.n(ee),ne=new te.a;ne.get("getModelInstance","/headerbar",function(e){var t=e.stores,n=e.request.query,r=n&&n.filter&&n.filter.trim().split(",");Object(s.buildNormalResponse)(e,200,{attributes:t.model.allAttibuteWithFilter(r)})});var re=n(0),oe=re.types.model("ButtonModel",{id:re.types.identifier,title:re.types.string,icon:re.types.maybe(re.types.string)}),ie=re.types.model("IconTextModel",{id:re.types.identifier,title:re.types.optional(re.types.string,""),icon:re.types.optional(re.types.string,""),isActive:re.types.optional(re.types.boolean,!1)}),ae=s.BASE_CONTROLLED_KEYS.concat(["logo","buttons","iconTexts"]),ue=s.BaseModel.named("HeaderBarModel").props({logo:re.types.optional(re.types.string,""),buttons:re.types.array(oe),iconTexts:re.types.array(ie)}).views(function(e){return{allAttibuteWithFilter:function(t){void 0===t&&(t=ae);var n=[].concat(t||[]);return Object(u.pick)(e,n)}}}).actions(function(e){return{setLogo:function(t){e.logo=t},setButtons:function(t){var n=t;"string"==typeof t&&(n=JSON.parse(t)),e.buttons=[].concat(n).map(function(e){return oe.create(e)})},setIconTexts:function(t){var n=t;"string"==typeof t&&(n=JSON.parse(t)),e.iconTexts=[].concat(n).map(function(e){return ie.create(e)})}}}).actions(function(e){return{updateAttribute:function(t,n){return de(e,t,n)}}});function se(e){void 0===e&&(e=Ie);var t=Object.assign({},Ie,e),n=t.logo,r=t.buttons,o=t.iconTexts,i=t.theme,a=t.styles,u=ue.create({logo:n,buttons:r,iconTexts:o});return u.setStyles(a||{}),u.setTheme(i),u}function ce(){return se({})}var le=s.BASE_CONTROLLED_KEYS.concat(["logo","buttons","iconTexts","theme","styles"]),de=Object(s.updateInScope)(le),pe=new te.a;pe.post("createModel","/headerbar",function(e){var t=e.stores,n=e.request.data.model;t.setModel(se(n)),Object(s.buildNormalResponse)(e,200,{success:!0})});var fe=new te.a;fe.put("updateModel","/headerbar",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=t.model[r],a=t.model.updateAttribute(r,o);Object(s.buildNormalResponse)(e,200,{success:a,origin:i},"属性 "+r+" 的值从 "+i+" -> "+o+" 的变更: "+a)}),fe.put("updateStyles","/model/styles/:target",Object(s.updateStylesMiddleware)("model")),fe.put("updateTheme","/model/theme/:target",Object(s.updateThemeMiddleware)("model"));var me=new te.a;me.del("resetModel","/headerbar",function(e){var t=e.stores;Object(s.buildNormalResponse)(e,200,{node:t.resetToEmpty()})});var be,he=function(e,t){var n=this;void 0===t&&(t={});var r=new Q.a({domain:"header-bar"});return r.innerApps=t,r.use(function(r,o){return function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}(n,void 0,void 0,function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(i){switch(i.label){case 0:return r.stores=e,r.innerApps=t,n=r.request.url,l("["+e.id+"] request: "+JSON.stringify(r.request.toJSON())),[4,o()];case 1:return i.sent(),l("["+e.id+"] ["+r.request.method+"] "+n+" ==> response: "+JSON.stringify(r.response.toJSON())),[2]}})})}),r.use(ne.routes()),r.use(pe.routes()),r.use(fe.routes()),r.use(me.routes()),r},ye=function(){return(ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ge="shb_",ve=["model"];be||(be={});var Se={},Oe=re.types.model("StoresModel",{id:re.types.refinement(re.types.identifier,function(e){return 0===e.indexOf(ge)}),model:ue}).actions(function(e){return{setModel:function(t){e.model=Object(re.cast)(t)},resetToEmpty:function(){e.model=ce()}}}),Me=1;function we(){var e=Object(s.getSubAppsFromFactoryMap)(Se),t=e.subStores,n=e.subApps,r=e.subClients;return{stores:Oe.create(ye({id:""+ge+Me++,model:ce()},t),{clients:r}),innerApps:n}}var ke=function(e){return function(t,n,r){return function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}(void 0,void 0,void 0,function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(t){return e.stores,e.client,[2]})})}},xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ce={},Ie={logo:"https://img.alicdn.com/tfs/TB1ysi8SpXXXXcJXpXXXXXXXXXX-210-60.jpg",buttons:[{id:"save",title:"保存",icon:"save"}],iconTexts:[{title:"选取元素",icon:"select",id:"selection",isActive:!0},{title:"全屏",icon:"scan",id:"fullscreen"},{title:"预览页面",icon:"eye",id:"preview"},{title:"历史记录",icon:"clock-circle",id:"history"}],theme:{main:"#25ab68",second:"#333"},styles:{container:{}}},Ee=Object(i.observer)(function(e){var t=Object(r.useCallback)(function(t){return function(n){d("[按钮点击] id: "+t.id+", title: "+t.title),e.onClickButton&&e.onClickButton(t,n)}},[e.onClickButton]),n=e.buttons;return o.a.createElement(o.a.Fragment,null,n.length>0&&n.map(function(e){var n=e.title,r=e.id,i=e.icon;return o.a.createElement(K,{key:r,type:"primary",className:"btnSave",onClick:t(e),icon:i},n)})||null)});Ee.displayName="HeaderBarButtons";var Te=Object(i.observer)(function(e){var t=e.iconTexts,n=Object(r.useCallback)(function(t){return function(){d("[icon text 点击] id: "+t.id+", title: "+t.title),e.onClickIconText&&e.onClickIconText(t)}},[e.onClickIconText]);return o.a.createElement(a.Row,{type:"flex",justify:"space-around",align:"middle"},t.length>0&&t.map(function(e){var t=e.id,r=e.title,i=e.isActive,u=e.icon;return o.a.createElement(a.Col,{key:t},o.a.createElement(X,{active:i,onClick:n(e),className:"oper-wrap"},o.a.createElement(a.Icon,{className:"oper-icon",type:u}),o.a.createElement("span",{className:"oper-name"},r)))})||null)});Te.displayName="HeaderBarIconTexts";var Be=function(e){var t=function(e){var t=e.logo,n=e.buttons,r=e.iconTexts,i=e.styles,u=e.onClickButton,s=e.onClickIconText;return o.a.createElement(J,{style:i.container,className:"ide-header-bar-container"},o.a.createElement(a.Row,{type:"flex",justify:"space-between",align:"middle"},o.a.createElement(a.Col,{span:6},o.a.createElement(a.Row,{type:"flex",justify:"center",align:"middle"},o.a.createElement(Y,{style:i.logo,src:t,alt:"logo"}))),o.a.createElement(a.Col,{span:18},o.a.createElement(a.Row,{type:"flex",justify:"space-between",align:"middle"},o.a.createElement(a.Col,{span:14},o.a.createElement(Ee,{buttons:n,onClickButton:u})),o.a.createElement(a.Col,{span:10},o.a.createElement(Te,{iconTexts:r,onClickIconText:s}))))))};return t.displayName="HeaderBarHOC",Object(i.observer)(Object(s.based)(t,Ie))},je=Be(),ze=function(e){var t=e.stores,n=Be(),r=function(r){var i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(r,[]),a=t.model,c=Object(u.pick)(a,ae);p("["+t.id+"] rendering");var l=Object(s.useInjectedEvents)(e,i,{onClick:[ke]});return o.a.createElement(n,xe({},c,l))};return r.displayName="HeaderBarWithStore",Object(i.observer)(r)},We=function(){var e=we(),t=e.stores,n=e.innerApps,r=he(t,n);return{stores:t,app:r,client:r.client,innerApps:n}},Fe=function(){var e=We();return xe({},e,{HeaderBarWithStore:ze(e)})};n.d(t,"a",function(){return Ce}),n.d(t,"DEFAULT_PROPS",function(){return Ie}),n.d(t,"HeaderBarButtons",function(){return Ee}),n.d(t,"HeaderBarIconTexts",function(){return Te}),n.d(t,"HeaderBarHOC",function(){return Be}),n.d(t,"HeaderBar",function(){return je}),n.d(t,"HeaderBarAddStore",function(){return ze}),n.d(t,"HeaderBarStoresEnv",function(){return We}),n.d(t,"HeaderBarFactory",function(){return Fe}),n.d(t,"CONTROLLED_KEYS",function(){return ae}),n.d(t,"HeaderBarModel",function(){return ue}),n.d(t,"createModel",function(){return se}),n.d(t,"createEmptyModel",function(){return ce}),n.d(t,"updateModelAttribute",function(){return de}),n.d(t,"STORE_ID_PREIX",function(){return ge}),n.d(t,"STORES_CONTROLLED_KEYS",function(){return ve}),n.d(t,"ESubApps",function(){return be}),n.d(t,"FACTORY_SUBAPP",function(){return Se}),n.d(t,"Stores",function(){return Oe}),n.d(t,"StoresFactory",function(){return we}),n.d(t,"AppFactory",function(){return he})}]))},function(e,t,n){var r,o,i,a,u,s,c,l,d,p;window,e.exports=(r=n(1),o=n(3),i=n(5),a=n(2),u=n(4),s=n(24),c=n(13),l=n(8),d=n(9),p=n(10),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t,n){var r,o,i,a,u,s,c,l,d;window,e.exports=(r=n(1),o=n(3),i=n(0),a=n(4),u=n(2),s=n(8),c=n(7),l=n(9),d=n(10),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=l},function(e,t){e.exports=d},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(5),a=n(6),u=n(4),s=n(2),c=Object(u.createDebuggers)("iframe"),l=c.debugBase,d=c.debugComp,p=c.debugError,f=c.debugIO,m=(c.debugInteract,c.debugMini),b=(c.debugModel,c.debugRender);function h(e){return"true"===e||!0===e}var y,g=n(7),v=n.n(g).a.div.attrs({style:function(e){return e.style||{}}})(y||(y=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]))),S=n(8),O=n.n(S),M=n(3),w=n.n(M),k=new w.a;k.get("iframe","/iframe",function(e){var t=e.stores,n=e.request.query,r=n&&n.filter&&n.filter.trim().split(",");e.response.body={attributes:t.model.allAttibuteWithFilter(r)},e.response.status=200});var x=n(0),C=s.BASE_CONTROLLED_KEYS.concat(["allowFullScreen","showFullScreenIcon","url","data","allowEvents"]),I=s.BaseModel.named("IFrameModel").props({allowFullScreen:x.types.optional(x.types.boolean,!0),showFullScreenIcon:x.types.optional(x.types.boolean,!0),url:x.types.optional(x.types.string,""),data:x.types.optional(x.types.string,""),allowEvents:x.types.array(x.types.string)}).views(function(e){return{allAttibuteWithFilter:function(t){void 0===t&&(t=C);var n=[].concat(t||[]);return Object(u.pick)(e,n)}}}).actions(function(e){return{setAllowFullScreen:function(t){e.allowFullScreen=h(t)},setShowFullScreenIcon:function(t){e.showFullScreenIcon=h(t)},setUrl:function(t){e.url=t},setData:function(t){e.data="object"==typeof t?JSON.stringify(t):t},setAllowEvents:function(t){e.allowEvents=[].concat(t)}}}).actions(function(e){return{updateAttribute:function(t,n){return j(e,t,n)}}});function E(e){void 0===e&&(e=U);var t=Object.assign({},U,e),n=t.allowFullScreen,r=t.showFullScreenIcon,o=t.url,i=t.styles,a=t.theme,u=t.allowEvents,s=I.create({allowFullScreen:n,showFullScreenIcon:r,url:o});return s.setStyles(i),s.setTheme(a),s.setAllowEvents(u),s}function T(){return E({})}var B=s.BASE_CONTROLLED_KEYS.concat(["allowFullScreen","showFullScreenIcon","url","data","allowEvents"]),j=Object(s.updateInScope)(B),z=new w.a;z.post("iframe","/iframe",function(e){var t=e.stores,n=e.request.data.iframe;t.setModel(E(n)),e.response.status=200});var W=new w.a;W.put("iframe","/iframe",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=t.model.updateAttribute(r,o);e.response.body={success:i},e.response.status=200}),W.put("updateStyles","/model/styles/:target",Object(s.updateStylesMiddleware)("model")),W.put("updateTheme","/model/theme/:target",Object(s.updateThemeMiddleware)("model"));var F=new w.a;F.del("iframe","/iframe",function(e){var t=e.stores;e.response.body={node:t.resetToEmpty()},e.response.status=200});var _,P=function(e,t){var n=this;void 0===t&&(t={});var r=new O.a({domain:"iframe"});return r.innerApps=t,r.use(function(r,o){return function(e,t,n,r){return new(n||(n=Promise))(function(t,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,a)}u((r=r.apply(e,[])).next())})}(n,0,void 0,function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(i){switch(i.label){case 0:return r.stores=e,r.innerApps=t,n=r.request.url,f("["+e.id+"] request: "+JSON.stringify(r.request.toJSON())),[4,o()];case 1:return i.sent(),f("["+e.id+"] ["+r.request.method+"] "+n+" ==> response: "+JSON.stringify(r.response.toJSON())),[2]}})})}),r.use(k.routes()),r.use(z.routes()),r.use(W.routes()),r.use(F.routes()),r},R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},A="sif_",N=["model"];_||(_={});var L={},D=x.types.model("StoresModel",{id:x.types.refinement(x.types.identifier,function(e){return 0===e.indexOf(A)}),model:I}).actions(function(e){return{setModel:function(t){e.model=Object(x.cast)(t)},resetToEmpty:function(){e.model=T()}}}),$=1;function q(){var e=Object(s.getSubAppsFromFactoryMap)(L),t=e.subStores,n=e.subApps,r=e.subClients;return{stores:D.create(R({id:""+A+$++,model:T()},t),{clients:r}),innerApps:n}}var G=function(e){return function(t,n,r){return function(e,t,n,r){return new(n||(n=Promise))(function(e,t){function o(e){try{a(r.next(e))}catch(e){t(e)}}function i(e){try{a(r.throw(e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new n(function(e){e(t.value)}).then(o,i)}a((r=r.apply(void 0,[])).next())})}(0,0,void 0,function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(t){return e.stores,e.client,console.log("load"),[2]})})}},V=function(){return(V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},H=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},U={url:"",allowFullScreen:!1,showFullScreenIcon:!0,styles:{container:{},icon:{},iframe:{backgroundColor:"white"}}},J=function(e){var t=function(e){var t=Object.assign({},U,e),n=t.url,i=t.showFullScreenIcon,u=t.allowFullScreen,s=t.styles,c=t.data,b=H(Object(r.useState)(!1),2),h=b[0],y=b[1],g=H(Object(r.useState)(!1),2),S=g[0],O=g[1],M=o.a.useRef(null),w=Object(r.useCallback)(function(t){var n=e.handleFrameTasks,r=e.allowEvents,o=function(e){var t={};try{return!!e.length&&(t=JSON.parse(e),m("=====> 将字符串解析成 JSON 成功"),l("=====> 获得的 JSON 的内容："+t),t)}catch(t){return p("=====> 将字符串解析成 JSON 失败：",t),p("=====> 原字符串内容："+e),!1}}(t.data),i=[].concat(r);o&&i.length&&n&&i.includes(o.event)&&n(o)},[]),k=Object(r.useCallback)(function(){document.fullscreenEnabled||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?y(!0):y(!1)},[]),x=Object(r.useCallback)(function(){M.current&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled?M.current.requestFullscreen?M.current.requestFullscreen():M.current.webkitRequestFullscreen?M.current.webkitRequestFullscreen():M.current.mozRequestFullScreen?M.current.mozRequestFullScreen():M.current.msRequestFullscreen&&M.current.msRequestFullscreen():document.querySelector(".error").innerHTML="Your browser is not supported")},[]),C=Object(r.useCallback)(function(e){M&&M.current&&c&&(f((e?"["+e+"]":"")+"向 iframe (url: "+n+")发送消息，数据 %o",c),M.current.contentWindow.postMessage("string"==typeof c?c:JSON.stringify(c),"*"))},[c]);Object(r.useEffect)(function(){d("检测到 props.data 有变更，向 iframe 发送消息"),S&&C("in useEffect")},[c]),Object(r.useEffect)(function(){return window.addEventListener("message",w),document.addEventListener("webkitfullscreenchange",k),document.addEventListener("mozfullscreenchange",k),document.addEventListener("fullscreenchange",k),document.addEventListener("MSFullscreenChange",k),M.current.onload=function(){var t=e.onLoad;C("in load"),O(!0),t&&t()},function(){window.removeEventListener("message",w),document.removeEventListener("webkitfullscreenchange",k),document.removeEventListener("mozfullscreenchange",k),document.removeEventListener("fullscreenchange",k),document.removeEventListener("MSFullscreenChange",k)}},[]);var I=Object.assign({},{position:"absolute",fontSize:"20px",right:"10px",top:"10px",cursor:"pointer",color:"#333"},s.icon||{}),E={frameBorder:"0",src:n,target:"_parent",allowFullScreen:u,height:"100%",width:"100%"};return o.a.createElement(v,{style:s.container,className:"ide-iframe-container"},o.a.createElement("iframe",V({ref:M},E,{style:s.iframe})),i?h?o.a.createElement(a.Icon,{style:I,type:"shrink"}):o.a.createElement(a.Icon,{onClick:x,style:I,type:"arrows-alt"}):null)};return t.displayName="IFrameHOC",Object(i.observer)(Object(s.based)(t,U))},Y=J(),X=function(e){var t=e.stores,n=J(),r=function(r){var i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(r,[]),a=t.model,c=Object(u.pick)(a,C);b("["+t.id+"] rendering");var l=Object(s.useInjectedEvents)(e,i,{onLoad:[G]});return o.a.createElement(n,V({},c,l))};return r.displayName="IFrameWithStore",Object(i.observer)(r)},K=function(){var e=q(),t=e.stores,n=e.innerApps,r=P(t,n);return{stores:t,app:r,client:r.client,innerApps:n}},Z=function(){var e=K();return V({},e,{IFrameWithStore:X(e)})};n.d(t,"DEFAULT_PROPS",function(){return U}),n.d(t,"IFrameHOC",function(){return J}),n.d(t,"IFrame",function(){return Y}),n.d(t,"IFrameAddStore",function(){return X}),n.d(t,"IFrameStoresEnv",function(){return K}),n.d(t,"IFrameFactory",function(){return Z}),n.d(t,"CONTROLLED_KEYS",function(){return C}),n.d(t,"IFrameModel",function(){return I}),n.d(t,"createModel",function(){return E}),n.d(t,"createEmptyModel",function(){return T}),n.d(t,"updateModelAttribute",function(){return j}),n.d(t,"STORE_ID_PREIX",function(){return A}),n.d(t,"STORES_CONTROLLED_KEYS",function(){return N}),n.d(t,"ESubApps",function(){return _}),n.d(t,"FACTORY_SUBAPP",function(){return L}),n.d(t,"Stores",function(){return D}),n.d(t,"StoresFactory",function(){return q}),n.d(t,"AppFactory",function(){return P})}]))},function(e,t){e.exports=c},function(e,t){e.exports=l},function(e,t){e.exports=d},function(e,t){e.exports=p},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),i=n(8),a=n(7),u=n(2),s=n(0),c=n(5),l=n(6),d=n(1),p=Object(u.createDebuggers)("switch-panel"),f=(p.debugBase,p.debugComp,p.debugError,p.debugIO),m=(p.debugInteract,p.debugMini,p.debugModel),b=p.debugRender;function h(e){void 0===e&&(e=ue);var t=Object.assign({},ue,e);t.panels||(t.panels=[]);var n=t.theme,r=t.styles,o=T.create({selectedIndex:+t.selectedIndex,width:t.width,height:t.height,panels:t.panels.map(function(e){return Object(u.invariant)(!!e.id,"[createModel] panel.id 不能为空"),C.create({id:e.id,title:e.title,type:e.type})})});return o.setStyles(r||{}),o.setTheme(n),o}function y(){return h({})}function g(e){Object(u.invariant)(Object(u.isExist)(e.id),"创建 panel 必须要存在 id 属性");var t=e.id,n=e.title,r=void 0===n?"untitle":n,o=e.type;return C.create({id:t,title:r,type:o})}function v(e,t,n){if(!t)return null;var r=null,o=[].concat(n||[]);return e.panels.some(function(e){if(e.id===t)return r=o.length?Object(u.pick)(e,o):e,!0}),r}var S,O=Object(s.updateInScope)(["id","title","type"]),M=s.BASE_CONTROLLED_KEYS.concat(["selectedIndex","panels","width","height","buttonHeight"]),w=Object(s.updateInScope)(M),k=Object(s.updateInScope)([]),x=["id","title","type"],C=d.types.model("PanelModel",{id:d.types.identifier,title:d.types.optional(d.types.string,""),type:d.types.optional(d.types.string,"")}).views(function(e){return{allAttibuteWithFilter:function(t){if(void 0===t&&(t=x),!t)return e;var n=[].concat(t||[]);return Object(u.pick)(e,n)}}}).actions(function(e){return{setId:function(t){e.id=t},setTitle:function(t){e.title=t},setType:function(t){e.type=t}}}).actions(function(e){return{updateAttribute:function(t,n){return O(e,t,n)}}}),I=Object(s.stringLiterals)("selectedIndex","panels","width","height"),E=s.BASE_CONTROLLED_KEYS.concat(I),T=s.BaseModel.named("SwitchPanelModel").props({height:d.types.optional(d.types.union(d.types.number,d.types.string),"auto"),width:d.types.optional(d.types.union(d.types.number,d.types.string),"auto"),selectedIndex:d.types.optional(d.types.number,0),panels:d.types.array(d.types.late(function(){return C}))}).views(function(e){return{allAttibuteWithFilter:function(t){if(void 0===t&&(t=E),!t)return e;var n=[].concat(t||[]);return Object(u.pick)(e,n)},get panelIds(){return e.panels.map(function(e){return e.id})},findPanel:function(t,n){return v(e,t,n)}}}).actions(function(e){return{setHeight:function(t){e.height=t},setWidth:function(t){e.width=t},setPanels:function(t){void 0===t&&(t=[]),e.panels="string"==typeof t?JSON.parse(t):Object(d.cast)(t)},setSelectedIndex:function(t){e.selectedIndex=+t||0}}}).actions(function(e){return{addPanel:function(t,n){var r=e.panelIds.length;if(t>r||t<0)return m("[addPanel] 目标 index: "+t+" 超出可插入数组范围 [0, "+r+"]"),!1;if(~e.panelIds.indexOf(n.id))return m("[addPanel] 已经存在 id 为 "+n.id+" 的 panel"),!1;var o=g(n),i=e.panels.slice();return i.splice(t,0,o),e.panels=i,!0}}}).actions(function(e){return{updateAttribute:function(t,n){return w(e,t,n)},updateAttributeById:function(t,n,r){if(!t)return!1;var o=e.findPanel(t);return!!o&&o.updateAttribute(n,r)}}}).actions(function(e){return{removePanel:function(t){if(!t)return!1;var n=e.findPanel(t);if(n){var r=n.toJSON();return Object(d.destroy)(n),r}return!1}}}),B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},j="ssp_";!function(e){e.codeEditor="codeEditor",e.previewer="previewer"}(S||(S={}));var z=Object.values(S),W={codeEditor:c.Stores,previewer:l.Stores},F={codeEditor:c.CodeEditorFactory,previewer:l.IFrameFactory},_=d.types.model("StoresModel",B({id:d.types.refinement(d.types.identifier,function(e){return 0===e.indexOf(j)})},W,{model:T})).actions(function(e){var t=Object(s.getSubStoresAssigner)(e,z);return B({setModel:function(t){e.model=Object(d.cast)(t)}},t)}).actions(function(e){return{updateAttribute:function(t,n){k(e,t,n)}}}).actions(function(e){return{resetToEmpty:function(){var t=e.model.toJSON();return e.setModel(y()),t}}}),P=1;function R(){var e=Object(s.getSubAppsFromFactoryMap)(F),t=e.subStores,n=e.subApps,r=e.subClients;return{stores:_.create(Object.assign({},B({id:""+j+P++,model:y()},t)),{clients:r}),innerApps:n}}var A=n(10),N=n.n(A),L=n(4),D=n.n(L),$=new D.a;$.get("getPanels","/panels",function(e){var t=e.stores,n=e.request.query,r=n&&n.filter&&n.filter.trim().split(",");Object(s.buildNormalResponse)(e,200,{attributes:t.model.allAttibuteWithFilter(r)})}),$.get("getPanelById","/panels/:id",function(e){var t=e.stores,n=e.request.query,r=e.params.id,o=n&&n.filter&&n.filter.trim().split(",");Object(s.buildNormalResponse)(e,200,{panel:v(t.model,r,o)})}),$.get("getClientByName","/innerApps/:name",s.getInnerAppsMiddleware);var q=new D.a;q.post("createSwitchPanel","/panels",function(e){var t=e.stores,n=e.request.data.schema;t.setModel(h(n)),Object(s.buildNormalResponse)(e,200,{success:!0})}),q.post("addPanelAtIndex","/panels/indexes/:index",function(e){var t=e.stores,n=e.params,r=e.request,o=n.index,i=r.data.panel,a=t.model.panels.length,c=a;Object(u.isExist)(o)&&o>=0&&o<a&&(c=o);var l=t.model.addPanel(c,i);Object(s.buildNormalResponse)(e,200,{success:l,targetIndex:c},"panel(id: "+i.id+") 新增: "+l)});var G=new D.a;G.put("updatePanels","/panels",function(e){return function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,n,r,o,i,a,u;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(c){return t=e.stores,n=e.request,r=n.data,o=r.name,i=r.value,a=t.model[o],u=t.model.updateAttribute(o,i),"height"===o&&t.codeEditor.model.setHeight(i),Object(s.buildNormalResponse)(e,200,{success:u,origin:a},"属性 "+o+" 的值从 "+a+" -> "+i+" 的变更: "+u),[2]})})}),G.put("updatePanelById","/panels/:id",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=e.params.id,a=t.model.findPanel(i),u=t.model.updateAttributeById(i,r,o);Object(s.buildNormalResponse)(e,200,{success:u,origin:a},"属性 "+r+" 的值从 "+(a&&a[r])+" -> "+o+" 的变更: "+u)}),G.put("updateSelection","/panels/selection/:id",function(e){var t=e.stores,n=e.params.id;t.model.setSelectedIndex(n),Object(s.buildNormalResponse)(e,200,{success:!0})}),G.put("model","/model/styles/:target",Object(s.updateStylesMiddleware)("model")),G.put("model","/model/theme/:target",Object(s.updateThemeMiddleware)("model"));var V=new D.a;V.del("resetPanels","/panels",function(e){var t=e.stores;Object(s.buildNormalResponse)(e,200,{panels:t.resetToEmpty()})}),V.del("removePanelById","/panels/:id",function(e){var t=e.stores,n=e.params.id;Object(s.buildNormalResponse)(e,200,{panel:t.model.removePanel(n)})});var H,U,J,Y=function(e,t){var n=this,r=new N.a({domain:"switch-panel"});return r.innerApps=t,r.use(function(r,o){return function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}(n,void 0,void 0,function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(i){switch(i.label){case 0:return r.stores=e,r.innerApps=t,n=r.request.url,f("["+e.id+"] request: "+JSON.stringify(r.request.toJSON())),[4,o()];case 1:return i.sent(),f("["+e.id+"] ["+r.request.method+"] "+n+" ==> response: "+JSON.stringify(r.response.toJSON())),[2]}})})}),Object(s.applyProxy)(r,[{name:S.codeEditor,targets:["editor"]},{name:S.previewer,targets:["iframe"]}]),r.use($.routes()),r.use(q.routes()),r.use(G.routes()),r.use(V.routes()),r},X=n(9),K=n.n(X),Z=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Q=a.Button.Group,ee=K.a.div.withConfig({displayName:"StyledContainer",componentId:"sc-1sap8fi"})(H||(H=Z(["\n  height: ",";\n  width: ",";\n  display: flex;\n  position: relative;\n  flex-flow: column;\n  \n  & .ant-btn-group {\n    display: flex;\n  }\n"],["\n  height: ",";\n  width: ",";\n  display: flex;\n  position: relative;\n  flex-flow: column;\n  \n  & .ant-btn-group {\n    display: flex;\n  }\n"])),function(e){return e.height?" "+e.height+"px":"auto"},function(e){return e.width?e.width+"px":"auto"}),te=K()(Q).withConfig({displayName:"StyledButtonGroup",componentId:"sc-1221tkz"})(U||(U=Z(["\nwidth: ",";\n  left: 0;\n  bottom:0;\n  &.ant-btn-group{\n    position: absolute;\n  }\n"],["\nwidth: ",";\n  left: 0;\n  bottom:0;\n  &.ant-btn-group{\n    position: absolute;\n  }\n"])),function(e){return e.width?e.width+"px":"auto"}),ne=K.a.div.withConfig({displayName:"StyledPanelWrap",componentId:"sc-mzgdsh"})(J||(J=Z(["\n  visibility: ",";\n  z-index: ",";\n  position: absolute;\n  left: 0;\n  top: 0; \n"],["\n  visibility: ",";\n  z-index: ",";\n  position: absolute;\n  left: 0;\n  top: 0; \n"])),function(e){return e.visible?"visible":"hidden"},function(e){return e.visible?"inherit":"-1"});function re(e){return function(t,n){var r=e.stores;e.client,r.model.setSelectedIndex(n)}}var oe,ie=function(){return(ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){e.editor="editor",e.iframe="iframe"}(oe||(oe={}));var ae=Object(i.observer)(function(e){var t=e.panels,n=void 0===t?[]:t,i=e.selectedIndex,u=e.onSwitch,s=e.width,c=e.buttonHeight,l=void 0===c?30:c,d=Object(r.useCallback)(function(e,t){return function(n){u&&u(e,t)}},[u]);return n.length&&o.a.createElement(te,{width:s},n.map(function(e,t){var n=e.title;return o.a.createElement(a.Button,{type:i===t?"primary":"default",onClick:d(e,t),style:{flex:"1",borderRadius:0,height:l},size:"large",key:""+t},n)}))||null}),ue={selectedIndex:0,buttonHeight:30,panels:[{id:"preview",title:"页面预览",type:oe.iframe},{id:"schema",title:"Schema",type:oe.editor},{id:"fns",title:"回调函数",type:oe.editor}],width:"100%",theme:{main:"#25ab68"},styles:{container:{}}},se=function(e){var t=function(t){var n=e.CodeEditorComponent,i=e.IFrameComponent,a=Object.assign({},ue,t),u=a.codeEditor,s=void 0===u?{}:u,c=a.previewer,l=void 0===c?{}:c,d=a.styles,p=a.panels,f=a.selectedIndex,m=a.height,b=a.width,h=a.buttonHeight;s.width=b,s.height=m,s.visible=!0,l.styles=l.styles||{},l.styles.container=Object.assign({},l.styles.container||{},{width:b,height:m});var y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(Object(r.useState)(f),2),g=y[0],v=y[1];Object(r.useEffect)(function(){v(t.selectedIndex)},[t.selectedIndex]);var S=Object(r.useCallback)(function(e,n){n!==g&&(v(n),t.onSwitch&&t.onSwitch(e,n))},[t.onSwitch,g]),O=p[+g];return o.a.createElement(ee,{style:d.container,height:m,buttonHeight:h,width:b,className:"ide-switch-panel-container"},o.a.createElement(ne,{visible:O.type===oe.iframe},o.a.createElement(i,ie({},l))),o.a.createElement(ne,{visible:O.type===oe.editor},o.a.createElement(n,ie({},s))),o.a.createElement(ae,{panels:p,width:b,buttonHeight:h,selectedIndex:g,onSwitch:S}))};return t.displayName="SwitchPanelHOC",Object(i.observer)(Object(s.based)(t,ue))},ce=se({CodeEditorComponent:c.CodeEditor,IFrameComponent:l.IFrame}),le=function(e){var t=e.stores,n=se({CodeEditorComponent:Object(c.CodeEditorAddStore)(Object(s.extracSubEnv)(e,"codeEditor")),IFrameComponent:Object(l.IFrameAddStore)(Object(s.extracSubEnv)(e,"previewer"))}),r=function(r){var i=r.codeEditor,a=void 0===i?{}:i,c=r.previewer,l=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(r,["codeEditor","previewer"]),p=t.model,f=Object(u.pick)(p,E);b("["+t.id+"] rendering");var m=Object(s.useInjectedEvents)(e,a,{onChange:[]}),h=Object(s.useInjectedEvents)(e,l,{handleFrameTasks:[]}),y=Object(s.useInjectedEvents)(e,d,{onSwitch:[re]});return o.a.createElement(n,ie({codeEditor:m,previewer:h},f,y))};return r.displayName="SwitchPanelWithStore",Object(i.observer)(r)},de=function(){var e=R(),t=e.stores,n=e.innerApps,r=Y(t,n);return{stores:t,app:r,client:r.client,innerApps:n}},pe=function(){var e=de();return ie({},e,{SwitchPanelWithStore:le(e)})};n.d(t,"EPanelType",function(){return oe}),n.d(t,"Panels",function(){return ae}),n.d(t,"DEFAULT_PROPS",function(){return ue}),n.d(t,"SwitchPanelHOC",function(){return se}),n.d(t,"SwitchPanel",function(){return ce}),n.d(t,"SwitchPanelAddStore",function(){return le}),n.d(t,"SwitchPanelStoresEnv",function(){return de}),n.d(t,"SwitchPanelFactory",function(){return pe}),n.d(t,"PANEL_CONTROLLED_KEYS",function(){return x}),n.d(t,"PanelModel",function(){return C}),n.d(t,"CONTROLLED_KEYS",function(){return E}),n.d(t,"SwitchPanelModel",function(){return T}),n.d(t,"createModel",function(){return h}),n.d(t,"createEmptyModel",function(){return y}),n.d(t,"createPanel",function(){return g}),n.d(t,"findById",function(){return v}),n.d(t,"updatePanel",function(){return O}),n.d(t,"updateModelAttribute",function(){return w}),n.d(t,"updateStoresAttribute",function(){return k}),n.d(t,"STORE_ID_PREIX",function(){return j}),n.d(t,"ESubApps",function(){return S}),n.d(t,"NAMES_SUBAPP",function(){return z}),n.d(t,"STORES_SUBAPP",function(){return W}),n.d(t,"FACTORY_SUBAPP",function(){return F}),n.d(t,"Stores",function(){return _}),n.d(t,"StoresFactory",function(){return R}),n.d(t,"AppFactory",function(){return Y})}]))},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=l},function(e,t){t.debounce=function(e,t,n){var r;return void 0===t&&(t=50),void 0===n&&(n={isImmediate:!1}),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=this,u=n.isImmediate&&void 0===r;void 0!==r&&clearTimeout(r),r=setTimeout(function(){r=void 0,n.isImmediate||e.apply(a,o)},t),u&&e.apply(a,o)}}},function(e){e.exports={component:"div",id:"$div_Sk13k",uuid:"$uu_div_Hk04Q",children:[{component:"Row",id:"$Row_HJXTJ",props:{style:{width:" 500px",margin:" 150px auto"}},uuid:"$uu_Row_SkxC4",children:[{component:"Col",id:"$Col_S1xmT",props:{span:0},uuid:"$uu_Col_r1WCV",children:[{component:"img",id:"$img_ByfQp",props:{src:"https://img.alicdn.com/tps/TB13FQNOFXXXXcGXVXXXXXXXXXX-367-320.png",width:260},uuid:"$uu_img_rkm0N",children:[]}]},{component:"Col",id:"$Col_HyZma",uuid:"$uu_Col_SJzCV",children:[{component:"h2",id:"$h2_ByXQp",props:{data_text:"非常抱歉，找不到该页面",style:{marginTop:" 100px"}},uuid:"$uu_h2_Hy4RE",children:[]}]}]}]}},function(e,t,n){var r,o,i,a,u,s,c,l,d;window,e.exports=(r=n(3),o=n(5),i=n(1),a=n(14),u=n(4),s=n(2),c=n(8),l=n(13),d=n(10),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);function o(e){for(var t="",n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}t.generateUUIDv4=function(){var e=r.getRandomBytes(16);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,o(e.subarray(0,4))+"-"+o(e.subarray(4,6))+"-"+o(e.subarray(6,8))+"-"+o(e.subarray(8,10))+"-"+o(e.subarray(10,16))}},function(e,t){e.exports=d},function(e,t,n){"use strict";function r(e){for(var t=Math.pow(2,8*e.byteLength/e.length),n=0;n<e.length;n++)e[n]=Math.random()*t}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomValuesWithMathRandom=r,t.getRandomValues="undefined"!=typeof crypto?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):r,t.getRandomBytes=function(e){var n=new Uint8Array(e);return t.getRandomValues(n),n}},function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),i=n(7),a=n(6),u=n(3),s=n(1),c=n(2),l=n(0),d=n(8);function p(e,t){return parseFloat(t)-parseFloat(e)}var f,m=Object(s.createDebuggers)("ide-tree"),b=(m.debugBase,m.debugComp,m.debugError,m.debugIO),h=m.debugInteract,y=m.debugMini,g=m.debugModel,v=m.debugRender,S=["screenId","name","id","attrs","children"],O=l.types.model("SchemaModel",{id:l.types.string,screenId:l.types.optional(l.types.string,"_unset"),name:l.types.optional(l.types.string,""),attrs:l.types.optional(l.types.string,"{}"),parentId:l.types.optional(l.types.string,""),children:l.types.array(l.types.late(function(){return O}))}).views(function(e){return{get attrsJSON(){return JSON.parse(e.attrs)},get childrenIds(){return(e.children||[]).map(function(e){return e.id})},get schemaJSON(){return Object(u.map)(e,function(e){return Object.assign({},e.attrsJSON,{id:e.id,screenId:e.screenId,name:e.name})},!0)},get allNodes(){return z(e)},get isRoot(){return!!e.parentId}}}).actions(function(e){return{setParentId:function(t){Object(s.invariant)(!!t,"不能将 id 设置成空"),e.parentId=t},setChildren:function(t){t.forEach(function(t){t.setParentId(e.id)}),e.children=t||[]},setId:function(t){Object(s.invariant)(!!t,"将要更改的 id 为空"),e.id=t},setScreenId:function(t){Object(s.invariant)(!!t,"目标 screenId 不应该为空");var n=Object(u.traverse)(e,function(e){return e.screenId==t},u.TRAVERSE_TYPE.BFS,!0);Object(s.invariant)(!n,"修改不生效，因为目标 screenId 已存在"),e.screenId=t},setName:function(t){Object(s.invariant)(!!t,"不能将 name 更改为空值"),e.name=t},setAttrs:function(t){e.attrs=I(t)}}}).views(function(e){return{findNode:function(t,n){return g("[findNode] 开始查找节点 "+t+", filterArray: "+n),W(e,t,n)},indexOfChild:function(e){return e?(this.children||[]).map(function(e){return e.id}).indexOf(e):-1},allNodesWithFilter:function(t){void 0===t&&(t=S);var n=[].concat(t||[]);return e.allNodes.map(function(e){return Object(s.pick)(e,n)})},clone:function(){var t=Object(u.map)(e,function(e){var t=_(e.screenId),n=x(e.name),r=x(e.name,!0),o=JSON.stringify(e.attrsJSON).replace(t,n);return O.create({name:e.name,attrs:o,id:r,screenId:n})},!0,function(e,t){e.setChildren(t)});return g("[clone] 将节点 "+e.id+" 拷贝成新节点 "+t.id+", 生成的节点对象：%o",t),t}}}).actions(function(e){return{updateAttribute:function(t,n){return P(e,t,n)},updateAttributeById:function(t,n,r){if(!t)return!1;var o=e.findNode(t);return!!o&&P(o,n,r)},addChildren:function(t){[].concat(t).forEach(function(t){t.setParentId(e.id),e.children.push(t)})}}}).actions(function(e){return{removeNode:function(t){if(!t)return!1;var n=e.findNode(t);if(n){var r=n.toJSON();return Object(l.destroy)(n),r}return!1}}}).actions(function(e){return{cloneFromSubId:function(t){var n=e.findNode(t);return g("[cloneFromSubId] 拷贝生成的节点 id "+(n&&n.id)),{origin:n,target:n&&n.clone()}}}}).actions(function(e){return{addChild:function(t,n){var r=e.children.length;if(r){var o=Object(s.isExist)(n)?+n:r;t.setParentId(e.id),e.children.splice(o,0,t)}else e.addChildren(t)}}}).actions(function(e){return{removeChildren:function(t){var n=[].concat(t);g("[comp] 删除前 children 长度: "+e.children.length+", 待删除的 ids: "+n.join("、"));var r=[].concat(e.childrenIds),o=n.map(function(e){return r.indexOf(e)});o.sort(p),o.forEach(function(t){if(-1!==t){var n=e.children[t];Object(l.destroy)(n)}}),g("[comp] 删除后 children 长度: "+e.children.length+"，ids: "+e.children.map(function(e){return e.id}).join("、"))}}}).actions(function(e){return{addSibling:function(t,n,r){if(void 0===r&&(r=0),!Object(s.isExist)(t.parentId))return g("[addSibling] 节点 "+t.id+" 无父元素，无法进行新增兄弟节点的操作"),!1;var o=e.findNode(t.parentId);if(!o)return g("[addSibling] 当前节点 "+e.id+" 中无 "+t.parentId+" 节点，按理说不应出现这种异常状态，请检查树形结构合理性"),!1;var i=o.indexOfChild(t.id),a=parseInt(r)+i;return g("[addSibling] 计算插入位置："+i+" + "+r+"= "+a),o.addChild(n,+a),!0}}}),M=["schema","selectedId","expandedIds"],w=l.types.model("SchemaTreeModel",{schema:O,selectedId:l.types.optional(l.types.string,""),expandedIds:l.types.array(l.types.string)}).views(function(e){return{allAttibuteWithFilter:function(t){void 0===t&&(t=M);var n=[].concat(t||[]);return Object(s.pick)(e,n)}}}).actions(function(e){return{setSchema:function(t){e.schema=Object(l.cast)(t)},setExpandedIds:function(t){void 0===t&&(t=[]),e.expandedIds=t},setSelectedId:function(t){e.selectedId=t}}}).actions(function(e){return{updateAttribute:function(t,n){return R(e,t,n)}}}).actions(function(e){return{autoExpandIdIntoView:function(t){if(t){for(var n=t,r=[],o=e.expandedIds.slice();n;){var i=e.schema.findNode(n);n=i&&i.parentId,!~o.indexOf(n)&&n&&r.push(n)}h("[自动展开节点] expandedIds: "+o+", shouldExpand: "+r),e.setExpandedIds(o.concat(r))}},resetToEmptyTree:function(){var t=e.schema.toJSON();return e.setSchema(T()),t}}});!function(e){e.IDS="ids",e.CHILDREN="children",e.ID="id",e.NAME="name",e.PARENTID="parentId",e.SCREENID="screenId"}(f||(f={}));var k=Object.values(f);function x(e,t){var n;return void 0===e&&(e="unknown"),void 0===t&&(t=!1),"$"+(t?"uu_":"")+e+"_"+(void 0===n&&(n=5),Object(d.generateUUIDv4)().slice(0,n))}function C(e,t){if(!k.includes(e))return t}function I(e){return JSON.stringify(e,C)}function E(e){return void 0===e&&(e=ce.schema),e.children||(e.children=[]),Object(u.map)(e,function(e){var t=O.create({id:e.id||x(e.name,!0),screenId:e.screenId||x(e.name),name:e.name});return t.setAttrs(e),t},!0,function(e,t){e.setChildren(t)})}function T(){return E()}function B(e){void 0===e&&(e=ce);var t=Object.assign({},ce,e),n=t.schema,r=t.selectedId,o=t.expandedIds;return w.create({schema:n,selectedId:r,expandedIds:o})}function j(){return B()}function z(e,t){var n=[].concat(t||[]);return Object(u.traverse)(e,function(e,t){return void 0===t&&(t=[]),t.push(n.length?Object(s.pick)(e,n):e),t})}function W(e,t,n){if(!t)return null;var r=null,o=[].concat(n||[]);return Object(u.traverse)(e,function(e){return e.id===t&&(r=o.length?Object(s.pick)(e,o):e,!0)},u.TRAVERSE_TYPE.BFS,!0),r}var F,_=function(e){Object(s.invariant)(!!e,"[getIdRegex] 传入的 id 值不存在，请 check 数据格式");var t=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return y("[getIdRegex] id: "+e+" --esc--\x3e "+t+" 转换后的正则表达式 "+RegExp(t)),new RegExp(t)},P=Object(c.updateInScope)(["name","screenId","attrs"]),R=Object(c.updateInScope)(["schema","selectedId","expandedIds"]),A=Object(c.updateInScope)(["schemaTree"]),N=n(9),L=n.n(N),D=n(4),$=n.n(D);function q(e,t){return e&&e.trim().split(",")||t}!function(e){e.CLONED="CLONED"}(F||(F={}));var G=new Map;function V(e,t,n){void 0===n&&(n=!1);var r=G.get(e.id);if(r){var o=r.nodes.get(t);return n?o.clone():o}}var H=new $.a;H.get("getAllNodes","/nodes",function(e){var t=e.stores,n=e.request.query,r=q(n&&n.filter,S);e.response.body={nodes:t.model.schema.allNodesWithFilter(r)},e.response.status=200}),H.get("getNodeById","/nodes/:id",function(e){var t=e.stores,n=e.request.query,r=e.params.id,o=q(n&&n.filter,S);e.response.body={node:W(t.model.schema,r,o)},e.response.status=200}),H.get("getNodeParentById","/nodes/:id/parent",function(e){var t=e.stores,n=e.request.query,r=e.params.id,o=W(t.model.schema,r,["parentId"]),i=o&&o.parentId;b("[api - getNodeParentById] 找到 parentId: "+i);var a,u="";if(i){var s=q(n&&n.filter,S);a=W(t.model.schema,i,s),u="父节点 id 为 "+i}else u="当前节点无父节点";Object(c.buildNormalResponse)(e,200,a?{node:a}:{},u)}),H.get("getCloneNode","/buffers/clone",function(e){var t=e.stores,n=e.request.query,r=q(n&&n.filter,S),o=V(t,F.CLONED),i="";i=o?"获取成功. clone 节点 id: "+o.id:"当前缓存区中无 clone 类型节点，问题定位源 `getBufferNode`",Object(c.buildNormalResponse)(e,200,{node:o&&Object(s.pick)(o,r)},i)}),H.get("getSelection","/selection",function(e){var t=e.stores;Object(c.buildNormalResponse)(e,200,{id:t.model.selectedId})});var U=new $.a;U.post("createNewTree","/tree",function(e){var t=e.stores,n=e.request.data.schema;t.setModel({schema:n});var r=z(n,"id").map(function(e){return e.id});t.model.setExpandedIds(r),e.response.status=200,Object(c.buildNormalResponse)(e,200,{ids:r},"创建成功")}),U.post("addChildNode","/nodes/:id/children",function(e){var t,n,r=e.stores,o=e.request.data,i=o.schema,a=o.targetIndex,u=o.useBuffer,s=o.useClone,l=void 0===s||s,d=e.params.id;if(d){var p=u?V(r,F.CLONED,l):E(i),f=W(r.model.schema,d);u&&!p?t="添加失败，缓存区不存在 clone 类型节点":f?W(r.model.schema,p.id)?t="要插入的节点(id:"+p.id+")已存在":(f.addChild(p,a),n=p.schemaJSON):t="id 为 "+d+" 的节点不存在"}else t="传入节点 id 不能为空";Object(c.buildNormalResponse)(e,200,n?{node:n,useBuffer:u}:0,t)}),U.post("addSiblingNode","/nodes/:id/sibling",function(e){var t,n,r=e.stores,o=e.request.data,i=o.schema,a=o.offset,u=e.params.id;if(u){var s=E(i),l=W(r.model.schema,u);l?W(r.model.schema,s.id)?t="要插入的节点(id:"+s.id+")已存在":r.model.schema.addSibling(l,s,a)?n=s.schemaJSON:t="插入节点失败，请打开控制台查看 [addSibling] 部分的日志":t="id 为 "+u+" 的节点不存在"}else t="传入节点 id 不能为空";Object(c.buildNormalResponse)(e,200,n?{node:n}:null,t)}),U.post("cloneNodeIntoBuffer","/nodes/:id/clone",function(e){var t=e.stores,n=e.params.id,r=t.model.schema.cloneFromSubId(n),o=r.origin,i=r.target,a="";i?(a="拷贝成功，新节点 id: "+i.id,function(e,t,n){var r=G.get(e.id),o=r&&r.nodes||new Map;o.set(t,n),G.set(e.id,{stores:e,nodes:o})}(t,F.CLONED,i)):a="拷贝失败，问题定位源 `cloneFromSubId`",Object(c.buildNormalResponse)(e,200,{origin:o&&Object(s.pick)(o,S),target:i&&Object(s.pick)(i,S)},a)});var J=new $.a;J.put("updateRoot","/tree/root",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=t.model.schema.updateAttribute(r,o);e.response.body={success:i},e.response.status=200}),J.put("updateNodeById","/nodes/:id",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=e.params.id,a=t.model.schema.updateAttributeById(i,r,o);e.response.body={success:a},e.response.status=200}),J.put("updateSelection","/selection/:id",function(e){var t=e.stores,n=e.params.id;t.model.setSelectedId(n),t.model.autoExpandIdIntoView(n),e.response.status=200});var Y=new $.a;Y.del("delTree","/tree",function(e){var t=e.stores;e.response.body={node:t.resetToEmpty()},e.response.status=200}),Y.del("delNode","/nodes/:id",function(e){var t=e.stores,n=e.params.id,r=n===t.model.schema.id?t.resetToEmpty():t.model.schema.removeNode(n),o="节点 "+n+" 删除成功";Object(c.buildNormalResponse)(e,200,{node:r},o)});var X,K=function(e,t){var n=this;void 0===t&&(t={});var r=new L.a({domain:"ide-tree"});return r.innerApps=t,r.use(function(r,o){return function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}(n,void 0,void 0,function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(i){switch(i.label){case 0:return r.stores=e,r.innerApps=t,n=r.request.url,b("["+e.id+"] request: "+JSON.stringify(r.request.toJSON())),[4,o()];case 1:return i.sent(),b("["+e.id+"] ["+r.request.method+"] "+n+" ==> response: "+JSON.stringify(r.response.toJSON())),[2]}})})}),r.use(H.routes()),r.use(U.routes()),r.use(J.routes()),r.use(Y.routes()),r},Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Q="sst_";X||(X={});var ee={},te=l.types.model("StoresModel",{id:l.types.refinement(l.types.identifier,function(e){return 0===e.indexOf(Q)}),model:w}).actions(function(e){return{setModel:function(t){e.model=Object(l.cast)(t)}}}).actions(function(e){return{updateAttribute:function(t,n){A(e,t,n)}}}).actions(function(e){return{resetToEmpty:function(){return e.model.resetToEmptyTree()}}}),ne=1;function re(){var e=Object(c.getSubAppsFromFactoryMap)(ee),t=e.subStores,n=e.subApps,r=e.subClients;return{stores:te.create(Z({id:""+Q+ne++,model:j()},t),{clients:r}),innerApps:n}}var oe=function(e){return function(t,n){e.stores.model.setExpandedIds(t)}},ie=function(e){return function(t){e.stores.model.setSelectedId(t.id)}},ae=function(){return(ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ue=i.Tree.TreeNode,se={name:"[init comp]",id:"-1",screenId:"-1"},ce={schema:se,selectedId:"",expandedIds:[]},le=function(e){var t=function(e){var t=e.schema,n=e.selectedId,a=e.expandedIds,s=void 0===a?[]:a,c=e.onExpand,l=e.onSelectNode,d=e.onRightClickNode,p=s.slice(),f=Object(r.useCallback)(function(e,n){var r=e&&e[0];if(r&&l){var o=W(t,r);l&&l(o)}},[l,t]),m=Object(r.useCallback)(function(e){var n=e.node,r=e.event,o=n.props.eventKey,i=r.clientX,a=r.clientY;if(o&&d){var u=W(t,o);d({event:{clientX:i,clientY:a},node:u})}},[t,d]);return o.a.createElement(i.Tree,{key:"SchemaTree",showLine:!0,defaultExpandAll:!0,autoExpandParent:!1,onExpand:c,expandedKeys:p,selectedKeys:[n],onSelect:f,onRightClick:m},function(e){for(var t={},n=0,r=Object(u.traverse)(e,function(e,r){void 0===r&&(r=[]);var i=e.name,a=e.id,u=e.parentId;return r.push({id:a,name:i,component:o.a.createElement(ue,{title:i,key:a}),parentId:u}),t[a]=n,n++,r}),i=n;i>0;i--){var a=r[i-1];if(a&&a.parentId){var s=r[t[a.parentId]],c=s.component,l=s.name,d=s.id,p=c.props.children,f=[a.component].concat(p||[]);s.component=o.a.createElement(ue,{title:l,key:d},f)}}return r[0].component}(t))};return t.displayName="SchemaTreeHOC",Object(a.observer)(Object(c.based)(Object(a.observer)(t),ce))},de=le(),pe=function(e){var t=e.stores,n=le(),r=function(r){var i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(r,[]),a=t.model,u=Object(s.pick)(a,M);v("["+t.id+"] rendering");var l=Object(c.useInjectedEvents)(e,i,{onExpand:[oe],onSelectNode:[ie]});return Object(c.addModelChangeListener)(a,M,l.onModelChange),o.a.createElement(n,ae({},u,l))};return r.displayName="SchemaTreeWithStore",Object(a.observer)(r)},fe=function(){var e=re(),t=e.stores,n=e.innerApps,r=K(t,n);return{stores:t,app:r,client:r.client,innerApps:n}},me=function(){var e=fe();return ae({},e,{SchemaTreeWithStore:pe(e)})};n.d(t,"EMPTY_SCHEMA_ID",function(){return"-1"}),n.d(t,"EMPTY_SCHEMA",function(){return se}),n.d(t,"FLAG_ROOT",function(){return"@root"}),n.d(t,"DEFAULT_PROPS",function(){return ce}),n.d(t,"SchemaTreeHOC",function(){return le}),n.d(t,"SchemaTree",function(){return de}),n.d(t,"SchemaTreeAddStore",function(){return pe}),n.d(t,"SchemaTreeStoresEnv",function(){return fe}),n.d(t,"SchemaTreeFactory",function(){return me}),n.d(t,"SCHEMA_CONTROLLED_KEYS",function(){return S}),n.d(t,"SchemaModel",function(){return O}),n.d(t,"CONTROLLED_KEYS",function(){return M}),n.d(t,"SchemaTreeModel",function(){return w}),n.d(t,"SPECIAL_ATTRIBUTE_NAME",function(){return f}),n.d(t,"SPECIAL_NAMES",function(){return k}),n.d(t,"genCompIdByName",function(){return x}),n.d(t,"stringifyAttribute",function(){return I}),n.d(t,"createSchemaModel",function(){return E}),n.d(t,"createEmptySchema",function(){return T}),n.d(t,"createSchemaTreeModel",function(){return B}),n.d(t,"createEmptySchemaTreeModel",function(){return j}),n.d(t,"getAllNodes",function(){return z}),n.d(t,"findById",function(){return W}),n.d(t,"getIdRegex",function(){return _}),n.d(t,"updateSchema",function(){return P}),n.d(t,"updateSchemaTree",function(){return R}),n.d(t,"updateStoresAttribute",function(){return A}),n.d(t,"STORE_ID_PREIX",function(){return Q}),n.d(t,"ESubApps",function(){return X}),n.d(t,"FACTORY_SUBAPP",function(){return ee}),n.d(t,"Stores",function(){return te}),n.d(t,"StoresFactory",function(){return re}),n.d(t,"AppFactory",function(){return K})}]))},function(e,t,n){"use strict";let{useCallback:r,useState:o,useLayoutEffect:i}=n(2);function a(e){return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}}e.exports=function(e){let[t,n]=o(a(e?e.current:{}));const u=r(function(){e.current&&n(a(e.current))},[e]);return i(()=>{if(e.current){if(u(),"function"==typeof ResizeObserver){let t=new ResizeObserver(()=>u());return t.observe(e.current),()=>{t.disconnect(e.current),t=null}}return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}}},[e.current]),t}},,function(e,t,n){"use strict";var r=n(22);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},function(e,t){e.exports=d},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(15),a=n(18),u=n(6),s=n(16),c=n(8),l=n(5),d=n(19),p=n.n(d),f=n(1),m=n(0),b=n.n(m),h=n(7),y=n.n(h);function g(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function v(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function S(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){k(e,t,n[t])})}return e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?T(e):t}function j(e,t){return e(t={exports:{}},t.exports),t.exports
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/}g.__suppressDeprecationWarning=!0,v.__suppressDeprecationWarning=!0,S.__suppressDeprecationWarning=!0;var z=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var _=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))W.call(n,a)&&(o[a]=n[a]);if(z){r=z(n);for(var u=0;u<r.length;u++)F.call(n,r[u])&&(o[r[u]]=n[r[u]])}}return o},P="function"==typeof Symbol&&Symbol.for,R=P?Symbol.for("react.element"):60103,A=P?Symbol.for("react.portal"):60106,N=P?Symbol.for("react.fragment"):60107,L=P?Symbol.for("react.strict_mode"):60108,D=P?Symbol.for("react.profiler"):60114,$=P?Symbol.for("react.provider"):60109,q=P?Symbol.for("react.context"):60110,G=P?Symbol.for("react.concurrent_mode"):60111,V=P?Symbol.for("react.forward_ref"):60112,H=P?Symbol.for("react.suspense"):60113,U=P?Symbol.for("react.memo"):60115,J=P?Symbol.for("react.lazy"):60116,Y="function"==typeof Symbol&&Symbol.iterator;function X(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,u){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,a,u],c=0;(e=Error(t.replace(/%s/g,function(){return s[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z={};function Q(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||K}function ee(){}function te(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||K}Q.prototype.isReactComponent={},Q.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&X("85"),this.updater.enqueueSetState(this,e,t,"setState")},Q.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ee.prototype=Q.prototype;var ne=te.prototype=new ee;ne.constructor=te,_(ne,Q.prototype),ne.isPureReactComponent=!0;var re={current:null,currentDispatcher:null},oe=Object.prototype.hasOwnProperty,ie={key:!0,ref:!0,__self:!0,__source:!0};function ae(e,t,n){var r=void 0,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)oe.call(t,r)&&!ie.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];o.children=s}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:R,type:e,key:i,ref:a,props:o,_owner:re.current}}function ue(e){return"object"==typeof e&&null!==e&&e.$$typeof===R}var se=/\/+/g,ce=[];function le(e,t,n,r){if(ce.length){var o=ce.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function de(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>ce.length&&ce.push(e)}function pe(e,t,n){return null==e?0:function e(t,n,r,o){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var a=!1;if(null===t)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case R:case A:a=!0}}if(a)return r(o,t,""===n?"."+fe(t,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var s=n+fe(i=t[u],u);a+=e(i,s,r,o)}else if(s=null===t||"object"!=typeof t?null:"function"==typeof(s=Y&&t[Y]||t["@@iterator"])?s:null,"function"==typeof s)for(t=s.call(t),u=0;!(i=t.next()).done;)a+=e(i=i.value,s=n+fe(i,u++),r,o);else"object"===i&&X("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return a}(e,"",t,n)}function fe(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function me(e,t){e.func.call(e.context,t,e.count++)}function be(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?he(e,r,n,function(e){return e}):null!=e&&(ue(e)&&(e=function(e,t){return{$$typeof:R,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(se,"$&/")+"/")+n)),r.push(e))}function he(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(se,"$&/")+"/"),pe(e,be,t=le(t,i,r,o)),de(t)}var ye={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return he(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;pe(e,me,t=le(null,null,t,n)),de(t)},count:function(e){return pe(e,function(){return null},null)},toArray:function(e){var t=[];return he(e,t,null,function(e){return e}),t},only:function(e){return ue(e)||X("143"),e}},createRef:function(){return{current:null}},Component:Q,PureComponent:te,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:q,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:$,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:V,render:e}},lazy:function(e){return{$$typeof:J,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:U,type:e,compare:void 0===t?null:t}},Fragment:N,StrictMode:L,Suspense:H,createElement:ae,cloneElement:function(e,t,n){null==e&&X("267",e);var r=void 0,o=_({},e.props),i=e.key,a=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,u=re.current),void 0!==t.key&&(i=""+t.key);var s=void 0;for(r in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)oe.call(t,r)&&!ie.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==s?s[r]:t[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){s=Array(r);for(var c=0;c<r;c++)s[c]=arguments[c+2];o.children=s}return{$$typeof:R,type:e.type,key:i,ref:a,props:o,_owner:u}},createFactory:function(e){var t=ae.bind(null,e);return t.type=e,t},isValidElement:ue,version:"16.6.3",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:re,assign:_}};ye.unstable_ConcurrentMode=G,ye.unstable_Profiler=D;var ge={default:ye},ve=ge&&ye||ge,Se=ve.default||ve;j(function(e){0});var Oe=j(function(e){e.exports=Se}),Me=function(e){function t(){return O(this,t),B(this,I(t).apply(this,arguments))}return C(t,Oe.PureComponent),w(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.split,o=e.style,i=e.size,a=e.eleRef,u=["Pane",r,n],s=Object.assign({},o||{},{flex:1,position:"relative",outline:"none"});return void 0!==i&&("vertical"===r?s.width=i:(s.height=i,s.display="flex"),s.flex="none"),Oe.createElement("div",{ref:a,className:u.join(" "),style:s},t)}}]),t}();Me.propTypes={className:b.a.string.isRequired,children:b.a.node.isRequired,size:b.a.oneOfType([b.a.string,b.a.number]),split:b.a.oneOf(["vertical","horizontal"]),style:y.a,eleRef:b.a.func},Me.defaultProps={};var we=function(e){function t(){return O(this,t),B(this,I(t).apply(this,arguments))}return C(t,Oe.Component),w(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.onDoubleClick,o=e.onMouseDown,i=e.onTouchEnd,a=e.onTouchStart,u=e.resizerClassName,s=e.split,c=e.style,l=[u,s,t];return Oe.createElement("span",{role:"presentation",className:l.join(" "),style:c,onMouseDown:function(e){return o(e)},onTouchStart:function(e){e.preventDefault(),a(e)},onTouchEnd:function(e){e.preventDefault(),i(e)},onClick:function(e){n&&(e.preventDefault(),n(e))},onDoubleClick:function(e){r&&(e.preventDefault(),r(e))}})}}]),t}();function ke(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}function xe(e,t,n,r){if("number"==typeof r){var o="number"==typeof t?t:0,i="number"==typeof n&&n>=0?n:1/0;return Math.max(o,Math.min(i,r))}return void 0!==e?e:t}we.propTypes={className:b.a.string.isRequired,onClick:b.a.func,onDoubleClick:b.a.func,onMouseDown:b.a.func.isRequired,onTouchStart:b.a.func.isRequired,onTouchEnd:b.a.func.isRequired,split:b.a.oneOf(["vertical","horizontal"]),style:y.a,resizerClassName:b.a.string.isRequired},we.defaultProps={resizerClassName:"Resizer"};var Ce=function(e){function t(e){var n;O(this,t),(n=B(this,I(t).call(this,e))).onMouseDown=n.onMouseDown.bind(T(T(n))),n.onTouchStart=n.onTouchStart.bind(T(T(n))),n.onMouseMove=n.onMouseMove.bind(T(T(n))),n.onTouchMove=n.onTouchMove.bind(T(T(n))),n.onMouseUp=n.onMouseUp.bind(T(T(n)));var r=e.size,o=e.defaultSize,i=e.minSize,a=e.maxSize,u=e.primary,s=void 0!==r?r:xe(o,i,a,null);return n.state={active:!1,resized:!1,pane1Size:"first"===u?s:void 0,pane2Size:"second"===u?s:void 0,instanceProps:{size:r}},n}return C(t,Oe.Component),w(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(t.getSizeUpdate(this.props,this.state))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,n=t.allowResize,r=t.onDragStarted,o=t.split;if(n){ke(document,window);var i="vertical"===o?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof r&&r(),this.setState({active:!0,position:i})}}},{key:"onMouseMove",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,n=t.allowResize,r=t.maxSize,o=t.minSize,i=t.onChange,a=t.split,u=t.step,s=this.state,c=s.active,l=s.position;if(n&&c){ke(document,window);var d="first"===this.props.primary,p=d?this.pane1:this.pane2,f=d?this.pane2:this.pane1;if(p){var m=p,b=f;if(m.getBoundingClientRect){var h=m.getBoundingClientRect().width,y=m.getBoundingClientRect().height,g="vertical"===a?h:y,v=l-("vertical"===a?e.touches[0].clientX:e.touches[0].clientY);if(u){if(Math.abs(v)<u)return;v=~~(v/u)*u}var S=d?v:-v;parseInt(window.getComputedStyle(m).order)>parseInt(window.getComputedStyle(b).order)&&(S=-S);var O=r;if(void 0!==r&&r<=0){var M=this.splitPane;O="vertical"===a?M.getBoundingClientRect().width+r:M.getBoundingClientRect().height+r}var w=g-S,x=l-v;w<o?w=o:void 0!==r&&w>O?w=O:this.setState({position:x,resized:!0}),i&&i(w),this.setState(k({draggedSize:w},d?"pane1Size":"pane2Size",w))}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,n=e.onDragFinished,r=this.state,o=r.active,i=r.draggedSize;t&&o&&("function"==typeof n&&n(i),this.setState({active:!1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowResize,r=t.children,o=t.className,i=t.onResizerClick,a=t.onResizerDoubleClick,u=t.paneClassName,s=t.pane1ClassName,c=t.pane2ClassName,l=t.paneStyle,d=t.pane1Style,p=t.pane2Style,f=t.resizerClassName,m=t.resizerStyle,b=t.split,h=t.style,y=this.state,g=y.pane1Size,v=y.pane2Size,S=n?"":"disabled",O=f?"".concat(f," ").concat("Resizer"):f,M=function(e){return Oe.Children.toArray(e).filter(function(e){return e})}(r),w=x({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},h);"vertical"===b?Object.assign(w,{flexDirection:"row",left:0,right:0}):Object.assign(w,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var k=["SplitPane",o,b,S],C=x({},l,d),I=x({},l,p),E=["Pane1",u,s].join(" "),T=["Pane2",u,c].join(" ");return Oe.createElement("div",{className:k.join(" "),ref:function(t){e.splitPane=t},style:w},Oe.createElement(Me,{className:E,key:"pane1",eleRef:function(t){e.pane1=t},size:g,split:b,style:C},M[0]),Oe.createElement(we,{className:S,onClick:i,onDoubleClick:a,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:O,split:b,style:m||{}}),Oe.createElement(Me,{className:T,key:"pane2",eleRef:function(t){e.pane2=t},size:v,split:b,style:I},M[1]))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return t.getSizeUpdate(e,n)}},{key:"getSizeUpdate",value:function(e,t){var n={};if(t.instanceProps.size===e.size&&void 0!==e.size)return{};var r=void 0!==e.size?e.size:xe(e.defaultSize,e.minSize,e.maxSize,t.draggedSize);void 0!==e.size&&(n.draggedSize=r);var o="first"===e.primary;return n[o?"pane1Size":"pane2Size"]=r,n[o?"pane2Size":"pane1Size"]=void 0,n.instanceProps={size:e.size},n}}]),t}();Ce.propTypes={allowResize:b.a.bool,children:b.a.arrayOf(b.a.node).isRequired,className:b.a.string,primary:b.a.oneOf(["first","second"]),minSize:b.a.oneOfType([b.a.string,b.a.number]),maxSize:b.a.oneOfType([b.a.string,b.a.number]),defaultSize:b.a.oneOfType([b.a.string,b.a.number]),size:b.a.oneOfType([b.a.string,b.a.number]),split:b.a.oneOf(["vertical","horizontal"]),onDragStarted:b.a.func,onDragFinished:b.a.func,onChange:b.a.func,onResizerClick:b.a.func,onResizerDoubleClick:b.a.func,style:y.a,resizerStyle:y.a,paneClassName:b.a.string,pane1ClassName:b.a.string,pane2ClassName:b.a.string,paneStyle:y.a,pane1Style:y.a,pane2Style:y.a,resizerClassName:b.a.string,step:b.a.number},Ce.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=g,t.componentWillReceiveProps=v),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=S;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}}(Ce);var Ie,Ee,Te,Be=Ce,je=n(11),ze=n(12),We=Object(l.createDebuggers)("page-creator"),Fe=(We.debugBase,We.debugComp,We.debugError,We.debugIO),_e=(We.debugInteract,We.debugMini,We.debugModel,We.debugRender),Pe=n(9),Re=n.n(Pe),Ae=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ne=Re.a.div.attrs({style:function(e){return e.style||{}}})(Ie||(Ie=Ae(["\n  background: ",";\n  height: 100vh;\n\n  .Resizer {\n    background: #333;\n    opacity: 0.2;\n    z-index: 1;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    -moz-background-clip: padding;\n    -webkit-background-clip: padding;\n    background-clip: padding-box;\n  }\n\n  .Resizer:hover {\n    -webkit-transition: all 2s ease;\n    transition: all 2s ease;\n  }\n\n  .Resizer.horizontal {\n    height: 11px;\n    margin: -5px 0;\n    border-top: 5px solid rgba(255, 255, 255, 0);\n    border-bottom: 5px solid rgba(255, 255, 255, 0);\n    cursor: row-resize;\n    width: 100%;\n  }\n\n  .Resizer.horizontal:hover {\n    border-top: 5px solid rgba(0, 0, 0, 0.5);\n    border-bottom: 5px solid rgba(0, 0, 0, 0.5);\n  }\n\n  .Resizer.vertical {\n    width: 11px;\n    margin: 0 -5px;\n    border-left: 5px solid rgba(255, 255, 255, 0);\n    border-right: 5px solid rgba(255, 255, 255, 0);\n    cursor: col-resize;\n  }\n\n  .Resizer.vertical:hover {\n    border-left: 5px solid rgba(0, 0, 0, 0.5);\n    border-right: 5px solid rgba(0, 0, 0, 0.5);\n  }\n  .Resizer.disabled {\n    cursor: inherit;\n  }\n  .Resizer.disabled:hover {\n    border-color: transparent;\n  }\n"],["\n  background: ",";\n  height: 100vh;\n\n  .Resizer {\n    background: #333;\n    opacity: 0.2;\n    z-index: 1;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    -moz-background-clip: padding;\n    -webkit-background-clip: padding;\n    background-clip: padding-box;\n  }\n\n  .Resizer:hover {\n    -webkit-transition: all 2s ease;\n    transition: all 2s ease;\n  }\n\n  .Resizer.horizontal {\n    height: 11px;\n    margin: -5px 0;\n    border-top: 5px solid rgba(255, 255, 255, 0);\n    border-bottom: 5px solid rgba(255, 255, 255, 0);\n    cursor: row-resize;\n    width: 100%;\n  }\n\n  .Resizer.horizontal:hover {\n    border-top: 5px solid rgba(0, 0, 0, 0.5);\n    border-bottom: 5px solid rgba(0, 0, 0, 0.5);\n  }\n\n  .Resizer.vertical {\n    width: 11px;\n    margin: 0 -5px;\n    border-left: 5px solid rgba(255, 255, 255, 0);\n    border-right: 5px solid rgba(255, 255, 255, 0);\n    cursor: col-resize;\n  }\n\n  .Resizer.vertical:hover {\n    border-left: 5px solid rgba(0, 0, 0, 0.5);\n    border-right: 5px solid rgba(0, 0, 0, 0.5);\n  }\n  .Resizer.disabled {\n    cursor: inherit;\n  }\n  .Resizer.disabled:hover {\n    border-color: transparent;\n  }\n"])),function(e){return e.theme.bgColor}),Le=Re.a.div.attrs({style:function(e){return e.style||{}}})(Ee||(Ee=Ae(["\n  background-color: white;\n  overflow: scroll;\n  width: 100%;\n  height: 100%;\n"],["\n  background-color: white;\n  overflow: scroll;\n  width: 100%;\n  height: 100%;\n"]))),De=Re.a.div.attrs({style:function(e){return e.style||{}}})(Te||(Te=Ae(["\n  background-color: white;\n  width: 100%;\n  height: 100%;\n"],["\n  background-color: white;\n  width: 100%;\n  height: 100%;\n"]))),$e=n(10),qe=n.n($e),Ge=n(3),Ve=Object(f.stringLiterals)("visible","text"),He=f.BASE_CONTROLLED_KEYS.concat(Ve),Ue=f.BaseModel.named("PageCreatorModel").props({visible:Ge.types.optional(Ge.types.boolean,!0),text:Ge.types.optional(Ge.types.string,"")}).views(function(e){return{allAttibuteWithFilter:function(t){void 0===t&&(t=He);var n=[].concat(t||[]);return Object(l.pick)(e,n)}}}).actions(function(e){return{setText:function(t){e.text=t},setVisible:function(t){e.visible=!0===t||"true"===t}}}).actions(function(e){return{updateAttribute:function(t,n){return Ze(e,t,n)}}});function Je(e){void 0===e&&(e=vt);var t=Object.assign({},vt,e),n=t.visible,r=t.text,o=t.theme,i=t.styles,a=Ue.create({visible:n,text:r});return a.setStyles(i||{}),a.setTheme(o),a}function Ye(){return Je({})}var Xe,Ke=f.BASE_CONTROLLED_KEYS.concat(["visible","text"]),Ze=Object(f.updateInScope)(Ke),Qe=function(){return(Qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},et="idepc_";!function(e){e.componentTree="componentTree",e.headerBar="headerBar",e.switchPanel="switchPanel"}(Xe||(Xe={}));var tt=Object.values(Xe),nt={componentTree:u.Stores,headerBar:je.Stores,switchPanel:ze.Stores},rt={componentTree:u.ComponentTreeFactory,headerBar:je.HeaderBarFactory,switchPanel:ze.SwitchPanelFactory},ot=Ge.types.model("StoresModel",Qe({id:Ge.types.refinement(Ge.types.identifier,function(e){return 0===e.indexOf(et)}),model:Ue},nt)).actions(function(e){var t=Object(f.getSubStoresAssigner)(e,tt);return Qe({setModel:function(t){e.model=Object(Ge.cast)(t)}},t,{resetToEmpty:function(){e.model=Ye()}})}),it=1;var at=n(4),ut=n.n(at),st=new ut.a;st.get("getModelInstance","/model",function(e){var t=e.stores,n=e.request.query,r=n&&n.filter&&n.filter.trim().split(",");Object(f.buildNormalResponse)(e,200,{attributes:t.model.allAttibuteWithFilter(r)})}),st.get("getClientByName","/innerApps/:name",f.getInnerAppsMiddleware);var ct=new ut.a;ct.post("createModel","/model",function(e){var t=e.stores,n=e.request.data.model;t.setModel(Je(n)),Object(f.buildNormalResponse)(e,200,{success:!0})});var lt=new ut.a;lt.put("updateModel","/model",function(e){var t=e.stores,n=e.request.data,r=n.name,o=n.value,i=t.model[r],a=t.model.updateAttribute(r,o);Object(f.buildNormalResponse)(e,200,{success:a,origin:i},"属性 "+r+" 的值从 "+i+" -> "+o+" 的变更: "+a)}),lt.put("updateStyles","/model/styles/:target",Object(f.updateStylesMiddleware)("model")),lt.put("updateTheme","/model/theme/:target",Object(f.updateThemeMiddleware)("model"));var dt=new ut.a;dt.del("resetModel","/model",function(e){var t=e.stores;e.response.body={node:t.resetToEmpty()},Object(f.buildNormalResponse)(e,200,{node:t.resetToEmpty()})});var pt=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},ft=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},mt=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},bt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ht=function(e){return function(t,n,r){return mt(void 0,void 0,void 0,function(){var t;return bt(this,function(n){return t=e.stores,e.client,t.model.setVisible(!0),[2]})})}},yt=function(){return(yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},gt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},vt={theme:{main:"#25ab68",bgColor:"#ececec"},styles:{container:{}}},St=function(e){var t=function(t){var n=e.ComponentTreeComponent,i=e.SwitchPanelComponent,a=e.HeaderBarComponent,u=Object(r.useRef)(null),s=p()(u),c=Object.assign({},vt,t),l=c.componentTree,d=c.switchPanel,f=(c.visible,c.text,c.styles);return d.width=s.width,d.height=s.height,o.a.createElement(Ne,{style:f.container,className:"page-creator-ide-container"},o.a.createElement(Be,{split:"horizontal",size:64,allowResize:!1,className:"page-header"},o.a.createElement(a,null),o.a.createElement(Be,{split:"vertical",minSize:200,maxSize:300,defaultSize:200},o.a.createElement(Le,null,o.a.createElement(n,yt({},l))),o.a.createElement(De,{ref:u},o.a.createElement(i,yt({},d))))))};return t.displayName="PageCreatorHOC",Object(c.observer)(Object(f.based)(t,vt))},Ot=(St({ComponentTreeComponent:u.ComponentTree,HeaderBarComponent:je.HeaderBar,SwitchPanelComponent:ze.SwitchPanel}),function(e){var t=e.stores,n=St({ComponentTreeComponent:Object(u.ComponentTreeAddStore)(Object(f.extracSubEnv)(e,"componentTree")),HeaderBarComponent:Object(je.HeaderBarAddStore)(Object(f.extracSubEnv)(e,"headerBar")),SwitchPanelComponent:Object(ze.SwitchPanelAddStore)(Object(f.extracSubEnv)(e,"switchPanel"))}),r=function(r){var i=r.componentTree,a=void 0===i?{}:i,u=gt(r,["componentTree"]),s=t.model,c=Object(l.pick)(s,He);_e("["+t.id+"] rendering");var d=Object(f.useInjectedEvents)(e,a,{onSelectListItem:[]}),p=Object(f.useInjectedEvents)(e,u,{onClick:[ht]});return o.a.createElement(n,yt({componentTree:d},c,p))};return r.displayName="PageCreatorWithStore",Object(c.observer)(r)}),Mt=function(){var e=function(){var e=Object(f.getSubAppsFromFactoryMap)(rt),t=e.subStores,n=e.subApps,r=e.subClients;return{stores:ot.create(Qe({id:""+et+it++,model:Ye()},t),{clients:r}),innerApps:n}}(),t=e.stores,n=e.innerApps,r=function(e,t){var n=this;void 0===t&&(t={});var r=new qe.a({domain:"page-creator"});return r.innerApps=t,r.use(function(r,o){return pt(n,void 0,void 0,function(){var n;return ft(this,function(i){switch(i.label){case 0:return r.stores=e,r.innerApps=t,n=r.request.url,Fe("["+e.id+"] request: "+JSON.stringify(r.request.toJSON())),[4,o()];case 1:return i.sent(),Fe("["+e.id+"] ["+r.request.method+"] "+n+" ==> response: "+JSON.stringify(r.response.toJSON())),[2]}})})}),Object(f.applyProxy)(r,[{name:Xe.componentTree,targets:["model","menu","clients"]},{name:Xe.headerBar,targets:["headerbar"]},{name:Xe.switchPanel,targets:["panels","clients"]}]),r.use(st.routes()),r.use(ct.routes()),r.use(lt.routes()),r.use(dt.routes()),r}(t,n);return{stores:t,app:r,client:r.client,innerApps:n}},wt=n(17);const kt={modules:[{name:"Next",dist:"http://gcs.dockerlab.alipay.net/assets/Next/index.js"},{name:"Gourd",dist:"http://gcs.dockerlab.alipay.net/assets/Gourd/index.js"}],components:[{component:"Gourd.Iterator",id:"Iterator",props:{dataSource:[{text:1}]},children:[{component:"div",id:"itdiv",props:{children:"{{$scope.text}}"}}]},{component:"div",id:"$div_rk2ss",uuid:"$uu_div_ryTAh",children:[{component:"Next.Grid.Row",id:"$Row_B1wLZ",uuid:"$uu_Row_BJeaC",children:[{component:"Next.Grid.Col",id:"$Col_HJlwL",props:{style:{marginBottom:" 20px"}},uuid:"$uu_Col_ByP6C",children:[{component:"Breadcrumb",id:"$Breadcrumb_HymdZ",uuid:"$uu_Breadcrumb_B1apC",children:[{component:"Breadcrumb.Item",id:"$BreadcrumbItem_B1qdb",props:{link:"",data_text:"选品平台"},uuid:"$uu_BreadcrumbItem_BJLgT",children:[]},{component:"Breadcrumb.Item",id:"$BreadcrumbItem_SJVgf",props:{data_text:"选商品222",link:""},uuid:"$uu_BreadcrumbItem_Syve6",children:[]}]}]}]},{component:"Row",id:"$Row_SkKP1",uuid:"$uu_Row_SJWTR",children:[{component:"Col",id:"$Col_Bketv",uuid:"$uu_Col_Hyd6R",children:[{component:"Form",id:"$Form_HJCOJ",props:{direction:"hoz"},uuid:"$uu_Form_HkR6R",children:[{component:"FormItem",id:"$FormItem_BklCu",props:{label:"规则 id"},uuid:"$uu_FormItem_Sk$ga",children:[{component:"Input",id:"$Input_id",props:{maxLength:20,rows:0,style:{width:" 80px"},placeholder:"",value:"$store.$Select_industryName.value",size:"small"},size:"medium",validate:{trigger:["onBlur"],rules:[]},uuid:"$uu_Input_rk8_6",children:[]}]},{component:"FormItem",id:"$FormItem_SkEFk",props:{label:"规则名称"},uuid:"$uu_FormItem_HkFx6",children:[{component:"Input",id:"$Input_name",props:{style:{width:"100"}},uuid:"$uu_Input_SyDWp",children:[]}]},{component:"FormItem",id:"$FormItem_HJdYJ",props:{label:"创建者"},uuid:"$uu_FormItem_H15lp",children:[{component:"Input",id:"$Input_optUserNick",props:{style:{width:"80"},value:"$store.global.user.nick"},uuid:"$uu_Input_H1uZT",children:[]}]},{component:"FormItem",id:"$FormItem_BJsKJ",props:{label:"行业市场"},uuid:"$uu_FormItem_ryjgp",children:[{component:"Select",id:"$Select_industryId",size:"medium",props:{value:"",dataSource:[]},fetch:{cycle:{success:{},error:{},before:{},loading:{}}},uuid:"$uu_Select_rkK_p",children:[]}]},{component:"FormItem",id:"$FormItem_ryLql",props:{label:""},uuid:"$uu_FormItem_r1nlT",children:[{component:"Button",id:"$Button_query",props:{data_text:"查询规则",type:"primary",loading:!1},events:{onClick:"__$Button_query_onClick"},uuid:"$uu_Button_HJ5W6",children:[]}]}]}]}]},{component:"Row",id:"$Row_S1Y5R",uuid:"$uu_Row_rJMTA",children:[{component:"Col",id:"$Col_BylFq",uuid:"$uu_Col_H1YTC",children:[{component:"Button",id:"$Button_new",props:{data_text:"新建规则",type:"primary",shape:!1},events:{onClick:"__$Button_new_onClick"},uuid:"$uu_Button_SkJgp",children:[]}]}]},{component:"Row",id:"$Row_H1Sl9",uuid:"$uu_Row_r1X6C",children:[{component:"Col",id:"$Col_r1eSe",uuid:"$uu_Col_Hk96C",children:[{component:"Table",id:"$Table_rule",props:{dataSource:"$store.$Table_rule.$remote.result.model.data",isZebra:!1},fetch:{method:"GET",autorun:!0,url:{path:"//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm",query:{apiName:"console.selection.goods.rule.query",version:"1.0",requestData:{pageSize:"10",page:"$store.$Pagination_HybSq.value",ruleId:"$store.$Input_id.value",ruleName:"$store.$Input_name.value",userName:"$store.$Input_optUserNick.value",industryId:"$store.$Select_industryId.value"}}},cycle:{success:{},error:{},loading:{},before:{}}},uuid:"$uu_Table_S1gl6",children:[{component:"Table.Column",id:"$TableColumn_rklGf",props:{dataIndex:"ruleId",title:"规则 id",width:140,cell:"__$TableColumn_rklGf_cell"},uuid:"$uu_TableColumn_S16xp",children:[]},{component:"Table.Column",id:"$TableColumn_ByWGG",props:{dataIndex:"ruleName",title:"规则名称",cell:"__$TableColumn_ByWGG_cell"},uuid:"$uu_TableColumn_ry0x6",children:[]},{component:"Table.Column",id:"$TableColumn_BkeNX",props:{dataIndex:"ruleDesc",title:"规则描述"},uuid:"$uu_TableColumn_rkxeV",children:[]},{component:"Table.Column",id:"$TableColumn_Hk4Mz",props:{title:"创建者",dataIndex:"optNick",width:90,align:"center"},uuid:"$uu_TableColumn_rJxbT",children:[]},{component:"Table.Column",id:"$TableColumn_BkBfG",props:{title:"行业市场",dataIndex:"industryName",width:90,align:"center"},uuid:"$uu_TableColumn_B1W_a",children:[]},{component:"Table.Column",id:"$TableColumn_rJLzz",props:{title:"操作",cell:"__$TableColumn_rJLzz_cell"},uuid:"$uu_TableColumn_r1MZT",children:[]}]}]}]},{component:"Pagination",id:"$Pagination_HybSq",props:{style:{marginTop:"10px",marginLeft:" 20px"},pageSize:10,total:"$store.$Table_rule.$remote.result.model.page.totalCount",value:0},size:"medium",events:{onChange:"__$Pagination_HybSq_onChange"},uuid:"$uu_Pagination_rkZlp",children:[]},{component:"Dialog",id:"$Dialog_Skw6Z",props:{title:"编辑规则",visible:!1,closable:!0},events:{onOk:"__$Dialog_Skw6Z_onOk",onCancel:"__$Dialog_Skw6Z_onCancel",onClose:"__$Dialog_Skw6Z_onClose"},uuid:"$uu_Dialog_SkVa0",children:[{component:"Form",id:"$Form_rkLgz",events:{},uuid:"$uu_Form_B1j60",children:[{component:"FormItem",id:"$FormItem_H1lUl",props:{label:"规则名称",extra:""},uuid:"$uu_FormItem_rkMx6",children:[{component:"Input",id:"$Input_newRuleName",props:{style:{width:" 300px"}},size:"medium",validate:{trigger:["onBlur"],rules:[{rule:"required",value:!0,message:"名称不能为空"}]},uuid:"$uu_Input_SJ7_T",children:[]}]},{component:"FormItem",id:"$FormItem_HJcZG",props:{label:"规则描述"},uuid:"$uu_FormItem_BkQeT",children:[{component:"Input",id:"$Input_newRuleDesc",props:{multiple:!0,rows:2,maxLength:10,style:{width:" 300px"}},size:"medium",validate:{trigger:["onBlur"],rules:[{rule:"required",value:!0,message:"描述是必填"}]},uuid:"$uu_Input_HJEZa",children:[]}]},{component:"FormItem",id:"$FormItem_Hyjfz",props:{label:"行业市场"},uuid:"$uu_FormItem_BkNxa",children:[{component:"Select",id:"$Select_newIndustryId",props:{style:{width:" 100px"},dataSource:[]},fetch:{cycle:{success:{},error:{},loading:{},before:{}}},size:"medium",validate:{trigger:["onChange"],rules:[{rule:"required",value:!0,message:"行业市场是必填"}]},uuid:"$uu_Select_Bkr_a",children:[]}]}]},{component:"Io",id:"$Io_save",props:{dataSource:"$store.$Io_save.$remote.result.model"},fetch:{method:"GET",autorun:!1,url:{path:"//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm",query:{apiName:"console.selection.goods.rule.save",version:"1.0",requestData:{ruleName:"$store.$Input_newRuleName.value",ruleDesc:"$store.$Input_newRuleDesc.value",industryId:"$store.$Select_newIndustryId.value",ruleId:"$store.$Hidden_ruleId.value",empId:"$store.global.user.id"}}},cycle:{success:{},error:{},loading:{},before:{}}},uuid:"$uu_Io_HJ3aR",children:[]},{component:"Hidden",id:"$Hidden_ruleId",uuid:"$uu_Hidden_SJeG8",children:[]}]},{component:"Io",id:"$Io_del",props:{dataSource:"$store.$Io_del.$remote.result"},fetch:{method:"GET",autorun:!1,url:{path:"//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm",query:{apiName:"console.selection.goods.rule.del",version:"1.0",requestData:{empId:"$store.global.user.id"}}},cycle:{success:{},error:{},loading:{},before:{}}},uuid:"$uu_Io_HJSa0",children:[]},{component:"Io",id:"$Io_copy",props:{dataSource:"$store.$Io_copy.$remote.result.model"},fetch:{method:"GET",autorun:!1,url:{path:"//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm",query:{apiName:"console.selection.goods.rule.copy",version:"1.0",requestData:{empId:"$store.global.user.id"}}},cycle:{success:{},error:{},loading:{},before:{}}},uuid:"$uu_Io_r1IaA",children:[]},{component:"Io",id:"$Io_B1ucl",props:{dataSource:"$store.$Io_B1ucl.$remote.dataList"},fetch:{method:"GET",autorun:!0,url:{path:"//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm",query:{apiName:"console.selection.goods.industryList",version:"1.0",requestData:{ruleType:"1"}}},cycle:{success:{action:"__$Io_B1ucl_fetch_success"},error:{},before:{},loading:{}}},uuid:"$uu_Io_ryxuq",children:[]}]}],functions:window._test_};Object(u.schemaConverter)(wt,u.ESchemaOrigin.GOURD_V1);var xt=Object(u.schemaConverter)(kt.components),Ct=Object(a.createSchemaModel)(xt);var It,Et=(It=Mt(),yt({},It,{PageCreatorWithStore:Ot(It)})),Tt=Et.PageCreatorWithStore,Bt=Et.client;var jt={schemaTree:{onSelectNode:function(e){console.log("当前选中的 node:",e.id,e.name)},onRightClickNode:function(e){e.node,e.event,console.log("onRightClick...")},onModelChange:Object(s.debounce)(function(e,t){if("schema"===e){var n=t.schemaJSON?t.schemaJSON:t;console.log(777,"schema changed:",e),Bt.put("/clients/switchPanel/clients/codeEditor/editor",{name:"value",value:JSON.stringify(n.children,null,4)}),kt.components=n.children,Bt.put("/clients/switchPanel/clients/previewer/iframe",{name:"data",value:{event:"data-from-ide",type:"updateSchema",data:kt}})}},400,{isImmediate:!0}),onExpand:function(e){}}},zt={onSwitch:function(e,t){console.log("[with client]当前点击：",e,t)},codeEditor:{language:"json"},previewer:{url:"./pi/demo/index.html?from=ide"}};Object(i.render)(r.createElement(Tt,{componentTree:jt,switchPanel:zt,onClick:function(e){console.log("当前点击：",e)}}),document.getElementById("example")),Bt.post("/clients/componentTree/clients/schemaTree/tree",{schema:Ct}),Bt.post("/clients/componentTree/clients/contextMenu/menu",{menu:{id:"component-tree",name:"组件树右键菜单",children:[{id:"createSub",name:"添加组件",icon:"plus",shortcut:"⌘+Alt+G"},{id:"createUp",name:"前面插入组件",icon:"arrow-up",shortcut:""},{id:"createDown",name:"后面插入组件",icon:"arrow-down",shortcut:""},{id:"divider",name:"分割线",icon:"file",type:"separator"},{id:"copy",name:"复制",icon:"copy",shortcut:"⌘+C"},{id:"paste",name:"粘贴",icon:"switcher",shortcut:"⌘+V"},{id:"divider",name:"分割线",icon:"file",type:"separator"},{id:"delete",name:"删除",icon:"delete",shortcut:"⌘+Delete"}]}})}])});